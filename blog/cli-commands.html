<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.35">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" type="image/x-icon" sizes="32x32" href="/favicon.ico"><script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?658d535852e4dcdd8f3934c1c3e87165";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script><meta name="keywords" content="go-doudou,Go语言微服务框架,golang,go-doudou微服务框架,RESTful,微服务,服务注册与发现,负载均衡,熔断限流,grpc,去中心化,golang microservice framework,golang orm,ORM工具,microservice,service discovery,load balancing,circuit breaker,rate limit,低代码平台"><meta name="description" content="go-doudou是一个go语言微服务框架。它同时支持开发单体应用。从定义Go语言接口开始，无须学习任何接口描述语言。内置基于SWIM gossip协议的服务注册与发现的机制，帮助你构建一个健壮的、可扩展的、去中心化的微服务集群。内置强大的代码生成器。"><title>Detailed Guide to go-doudou CLI Commands | go-doudou</title>
    <link rel="modulepreload" href="/assets/app.2025f35b.js"><link rel="modulepreload" href="/assets/cli-commands.html.5f6dbecb.js"><link rel="modulepreload" href="/assets/cli-commands.html.a1326b8a.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/assets/style.993d40d8.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="Toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/logo.png" alt="go-doudou"><span class="site-name can-hide">go-doudou</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/guide/" class="" aria-label="Guide"><!--[--><!--]--> Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/resources/" class="" aria-label="Resources"><!--[--><!--]--> Resources <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/" class="router-link-active" aria-label="Blog"><!--[--><!--]--> Blog <!--[--><!--]--></a></div><div class="navbar-item"><a href="/contribution/" class="" aria-label="Contribution"><!--[--><!--]--> Contribution <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/unionj-cloud/go-doudou/releases" rel="noopener noreferrer" target="_blank" aria-label="Release Notes"><!--[--><!--]--> Release Notes <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/zh/" class="" aria-label="中文"><!--[--><!--]--> 中文 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/blog/cli-commands.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/zh/blog/cli-commands.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/unionj-cloud/go-doudou" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="Toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/guide/" class="" aria-label="Guide"><!--[--><!--]--> Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/resources/" class="" aria-label="Resources"><!--[--><!--]--> Resources <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/" class="router-link-active" aria-label="Blog"><!--[--><!--]--> Blog <!--[--><!--]--></a></div><div class="navbar-item"><a href="/contribution/" class="" aria-label="Contribution"><!--[--><!--]--> Contribution <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/unionj-cloud/go-doudou/releases" rel="noopener noreferrer" target="_blank" aria-label="Release Notes"><!--[--><!--]--> Release Notes <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/zh/" class="" aria-label="中文"><!--[--><!--]--> 中文 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/blog/cli-commands.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/zh/blog/cli-commands.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/unionj-cloud/go-doudou" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Detailed Guide to go-doudou CLI Commands <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/cli-commands.html#installation-and-upgrade" class="router-link-active router-link-exact-active sidebar-item" aria-label="Installation and Upgrade"><!--[--><!--]--> Installation and Upgrade <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/cli-commands.html#installing-go-doudou" class="router-link-active router-link-exact-active sidebar-item" aria-label="Installing go-doudou"><!--[--><!--]--> Installing go-doudou <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#upgrading-go-doudou" class="router-link-active router-link-exact-active sidebar-item" aria-label="Upgrading go-doudou"><!--[--><!--]--> Upgrading go-doudou <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/blog/cli-commands.html#command-overview" class="router-link-active router-link-exact-active sidebar-item" aria-label="Command Overview"><!--[--><!--]--> Command Overview <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#detailed-explanation-of-the-completion-command" class="router-link-active router-link-exact-active sidebar-item" aria-label="Detailed Explanation of the completion Command"><!--[--><!--]--> Detailed Explanation of the completion Command <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/cli-commands.html#basic-usage" class="router-link-active router-link-exact-active sidebar-item" aria-label="Basic Usage"><!--[--><!--]--> Basic Usage <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#subcommands" class="router-link-active router-link-exact-active sidebar-item" aria-label="Subcommands"><!--[--><!--]--> Subcommands <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#examples" class="router-link-active router-link-exact-active sidebar-item" aria-label="Examples"><!--[--><!--]--> Examples <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/blog/cli-commands.html#detailed-explanation-of-the-svc-command" class="router-link-active router-link-exact-active sidebar-item" aria-label="Detailed Explanation of the svc Command"><!--[--><!--]--> Detailed Explanation of the svc Command <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/cli-commands.html#svc-init" class="router-link-active router-link-exact-active sidebar-item" aria-label="svc init"><!--[--><!--]--> svc init <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-http" class="router-link-active router-link-exact-active sidebar-item" aria-label="svc http"><!--[--><!--]--> svc http <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-http-client" class="router-link-active router-link-exact-active sidebar-item" aria-label="svc http client"><!--[--><!--]--> svc http client <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-http-test" class="router-link-active router-link-exact-active sidebar-item" aria-label="svc http test"><!--[--><!--]--> svc http test <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-grpc" class="router-link-active router-link-exact-active sidebar-item" aria-label="svc grpc"><!--[--><!--]--> svc grpc <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-crud" class="router-link-active router-link-exact-active sidebar-item" aria-label="svc crud"><!--[--><!--]--> svc crud <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-run" class="router-link-active router-link-exact-active sidebar-item" aria-label="svc run"><!--[--><!--]--> svc run <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-push" class="router-link-active router-link-exact-active sidebar-item" aria-label="svc push"><!--[--><!--]--> svc push <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-deploy" class="router-link-active router-link-exact-active sidebar-item" aria-label="svc deploy"><!--[--><!--]--> svc deploy <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-shutdown" class="router-link-active router-link-exact-active sidebar-item" aria-label="svc shutdown"><!--[--><!--]--> svc shutdown <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/blog/cli-commands.html#detailed-explanation-of-the-name-command" class="router-link-active router-link-exact-active sidebar-item" aria-label="Detailed Explanation of the name Command"><!--[--><!--]--> Detailed Explanation of the name Command <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/cli-commands.html#basic-usage-11" class="router-link-active router-link-exact-active sidebar-item" aria-label="Basic Usage"><!--[--><!--]--> Basic Usage <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#common-parameters-10" class="router-link-active router-link-exact-active sidebar-item" aria-label="Common Parameters"><!--[--><!--]--> Common Parameters <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#examples-11" class="router-link-active router-link-exact-active sidebar-item" aria-label="Examples"><!--[--><!--]--> Examples <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/blog/cli-commands.html#detailed-explanation-of-the-enum-command" class="router-link-active router-link-exact-active sidebar-item" aria-label="Detailed Explanation of the enum Command"><!--[--><!--]--> Detailed Explanation of the enum Command <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/cli-commands.html#basic-usage-12" class="router-link-active router-link-exact-active sidebar-item" aria-label="Basic Usage"><!--[--><!--]--> Basic Usage <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#common-parameters-11" class="router-link-active router-link-exact-active sidebar-item" aria-label="Common Parameters"><!--[--><!--]--> Common Parameters <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#examples-12" class="router-link-active router-link-exact-active sidebar-item" aria-label="Examples"><!--[--><!--]--> Examples <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/blog/cli-commands.html#detailed-explanation-of-the-version-command" class="router-link-active router-link-exact-active sidebar-item" aria-label="Detailed Explanation of the version Command"><!--[--><!--]--> Detailed Explanation of the version Command <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/cli-commands.html#basic-usage-13" class="router-link-active router-link-exact-active sidebar-item" aria-label="Basic Usage"><!--[--><!--]--> Basic Usage <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#examples-13" class="router-link-active router-link-exact-active sidebar-item" aria-label="Examples"><!--[--><!--]--> Examples <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/blog/cli-commands.html#detailed-explanation-of-the-work-command" class="router-link-active router-link-exact-active sidebar-item" aria-label="Detailed Explanation of the work Command"><!--[--><!--]--> Detailed Explanation of the work Command <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/cli-commands.html#basic-usage-14" class="router-link-active router-link-exact-active sidebar-item" aria-label="Basic Usage"><!--[--><!--]--> Basic Usage <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#subcommands-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="Subcommands"><!--[--><!--]--> Subcommands <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#work-init" class="router-link-active router-link-exact-active sidebar-item" aria-label="work init"><!--[--><!--]--> work init <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/blog/cli-commands.html#practical-application-examples" class="router-link-active router-link-exact-active sidebar-item" aria-label="Practical Application Examples"><!--[--><!--]--> Practical Application Examples <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/cli-commands.html#_1-microservice-initialization-and-development-process" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. Microservice Initialization and Development Process"><!--[--><!--]--> 1. Microservice Initialization and Development Process <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#_2-database-table-based-microservice-generation" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. Database Table-Based Microservice Generation"><!--[--><!--]--> 2. Database Table-Based Microservice Generation <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#_3-using-the-crud-command-to-generate-a-crud-service-from-an-existing-database" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. Using the crud Command to Generate a CRUD Service from an Existing Database"><!--[--><!--]--> 3. Using the crud Command to Generate a CRUD Service from an Existing Database <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#_4-modular-application-development-in-a-workspace" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. Modular Application Development in a Workspace"><!--[--><!--]--> 4. Modular Application Development in a Workspace <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#_5-implementing-enum-types" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. Implementing Enum Types"><!--[--><!--]--> 5. Implementing Enum Types <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#_6-generate-autocompletion-scripts" class="router-link-active router-link-exact-active sidebar-item" aria-label="6. Generate Autocompletion Scripts"><!--[--><!--]--> 6. Generate Autocompletion Scripts <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/blog/cli-commands.html#advanced-usage-and-tips" class="router-link-active router-link-exact-active sidebar-item" aria-label="Advanced Usage and Tips"><!--[--><!--]--> Advanced Usage and Tips <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/cli-commands.html#_1-using-annotations-to-control-interface-permissions" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. Using Annotations to Control Interface Permissions"><!--[--><!--]--> 1. Using Annotations to Control Interface Permissions <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#_2-custom-protoc-command" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. Custom protoc Command"><!--[--><!--]--> 2. Custom protoc Command <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#_3-environment-variables-affecting-service-behavior" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. Environment Variables Affecting Service Behavior"><!--[--><!--]--> 3. Environment Variables Affecting Service Behavior <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#_4-integration-testing-tips" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. Integration Testing Tips"><!--[--><!--]--> 4. Integration Testing Tips <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/cli-commands.html#_5-modular-application-development-tips" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. Modular Application Development Tips"><!--[--><!--]--> 5. Modular Application Development Tips <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/blog/cli-commands.html#summary" class="router-link-active router-link-exact-active sidebar-item" aria-label="Summary"><!--[--><!--]--> Summary <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="detailed-guide-to-go-doudou-cli-commands" tabindex="-1"><a class="header-anchor" href="#detailed-guide-to-go-doudou-cli-commands" aria-hidden="true">#</a> Detailed Guide to go-doudou CLI Commands</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/blog/cli-commands.html#installation-and-upgrade" class="router-link-active router-link-exact-active">Installation and Upgrade</a><ul><li><a aria-current="page" href="/blog/cli-commands.html#installing-go-doudou" class="router-link-active router-link-exact-active">Installing go-doudou</a></li><li><a aria-current="page" href="/blog/cli-commands.html#upgrading-go-doudou" class="router-link-active router-link-exact-active">Upgrading go-doudou</a></li></ul></li><li><a aria-current="page" href="/blog/cli-commands.html#command-overview" class="router-link-active router-link-exact-active">Command Overview</a></li><li><a aria-current="page" href="/blog/cli-commands.html#detailed-explanation-of-the-completion-command" class="router-link-active router-link-exact-active">Detailed Explanation of the completion Command</a><ul><li><a aria-current="page" href="/blog/cli-commands.html#basic-usage" class="router-link-active router-link-exact-active">Basic Usage</a></li><li><a aria-current="page" href="/blog/cli-commands.html#subcommands" class="router-link-active router-link-exact-active">Subcommands</a></li><li><a aria-current="page" href="/blog/cli-commands.html#examples" class="router-link-active router-link-exact-active">Examples</a></li></ul></li><li><a aria-current="page" href="/blog/cli-commands.html#detailed-explanation-of-the-svc-command" class="router-link-active router-link-exact-active">Detailed Explanation of the svc Command</a><ul><li><a aria-current="page" href="/blog/cli-commands.html#svc-init" class="router-link-active router-link-exact-active">svc init</a></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-http" class="router-link-active router-link-exact-active">svc http</a></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-http-client" class="router-link-active router-link-exact-active">svc http client</a></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-http-test" class="router-link-active router-link-exact-active">svc http test</a></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-grpc" class="router-link-active router-link-exact-active">svc grpc</a></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-crud" class="router-link-active router-link-exact-active">svc crud</a></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-run" class="router-link-active router-link-exact-active">svc run</a></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-push" class="router-link-active router-link-exact-active">svc push</a></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-deploy" class="router-link-active router-link-exact-active">svc deploy</a></li><li><a aria-current="page" href="/blog/cli-commands.html#svc-shutdown" class="router-link-active router-link-exact-active">svc shutdown</a></li></ul></li><li><a aria-current="page" href="/blog/cli-commands.html#detailed-explanation-of-the-name-command" class="router-link-active router-link-exact-active">Detailed Explanation of the name Command</a><ul><li><a aria-current="page" href="/blog/cli-commands.html#basic-usage-11" class="router-link-active router-link-exact-active">Basic Usage</a></li><li><a aria-current="page" href="/blog/cli-commands.html#common-parameters-10" class="router-link-active router-link-exact-active">Common Parameters</a></li><li><a aria-current="page" href="/blog/cli-commands.html#examples-11" class="router-link-active router-link-exact-active">Examples</a></li></ul></li><li><a aria-current="page" href="/blog/cli-commands.html#detailed-explanation-of-the-enum-command" class="router-link-active router-link-exact-active">Detailed Explanation of the enum Command</a><ul><li><a aria-current="page" href="/blog/cli-commands.html#basic-usage-12" class="router-link-active router-link-exact-active">Basic Usage</a></li><li><a aria-current="page" href="/blog/cli-commands.html#common-parameters-11" class="router-link-active router-link-exact-active">Common Parameters</a></li><li><a aria-current="page" href="/blog/cli-commands.html#examples-12" class="router-link-active router-link-exact-active">Examples</a></li></ul></li><li><a aria-current="page" href="/blog/cli-commands.html#detailed-explanation-of-the-version-command" class="router-link-active router-link-exact-active">Detailed Explanation of the version Command</a><ul><li><a aria-current="page" href="/blog/cli-commands.html#basic-usage-13" class="router-link-active router-link-exact-active">Basic Usage</a></li><li><a aria-current="page" href="/blog/cli-commands.html#examples-13" class="router-link-active router-link-exact-active">Examples</a></li></ul></li><li><a aria-current="page" href="/blog/cli-commands.html#detailed-explanation-of-the-work-command" class="router-link-active router-link-exact-active">Detailed Explanation of the work Command</a><ul><li><a aria-current="page" href="/blog/cli-commands.html#basic-usage-14" class="router-link-active router-link-exact-active">Basic Usage</a></li><li><a aria-current="page" href="/blog/cli-commands.html#subcommands-1" class="router-link-active router-link-exact-active">Subcommands</a></li><li><a aria-current="page" href="/blog/cli-commands.html#work-init" class="router-link-active router-link-exact-active">work init</a></li></ul></li><li><a aria-current="page" href="/blog/cli-commands.html#practical-application-examples" class="router-link-active router-link-exact-active">Practical Application Examples</a><ul><li><a aria-current="page" href="/blog/cli-commands.html#_1-microservice-initialization-and-development-process" class="router-link-active router-link-exact-active">1. Microservice Initialization and Development Process</a></li><li><a aria-current="page" href="/blog/cli-commands.html#_2-database-table-based-microservice-generation" class="router-link-active router-link-exact-active">2. Database Table-Based Microservice Generation</a></li><li><a aria-current="page" href="/blog/cli-commands.html#_3-using-the-crud-command-to-generate-a-crud-service-from-an-existing-database" class="router-link-active router-link-exact-active">3. Using the crud Command to Generate a CRUD Service from an Existing Database</a></li><li><a aria-current="page" href="/blog/cli-commands.html#_4-modular-application-development-in-a-workspace" class="router-link-active router-link-exact-active">4. Modular Application Development in a Workspace</a></li><li><a aria-current="page" href="/blog/cli-commands.html#_5-implementing-enum-types" class="router-link-active router-link-exact-active">5. Implementing Enum Types</a></li><li><a aria-current="page" href="/blog/cli-commands.html#_6-generate-autocompletion-scripts" class="router-link-active router-link-exact-active">6. Generate Autocompletion Scripts</a></li></ul></li><li><a aria-current="page" href="/blog/cli-commands.html#advanced-usage-and-tips" class="router-link-active router-link-exact-active">Advanced Usage and Tips</a><ul><li><a aria-current="page" href="/blog/cli-commands.html#_1-using-annotations-to-control-interface-permissions" class="router-link-active router-link-exact-active">1. Using Annotations to Control Interface Permissions</a></li><li><a aria-current="page" href="/blog/cli-commands.html#_2-custom-protoc-command" class="router-link-active router-link-exact-active">2. Custom protoc Command</a></li><li><a aria-current="page" href="/blog/cli-commands.html#_3-environment-variables-affecting-service-behavior" class="router-link-active router-link-exact-active">3. Environment Variables Affecting Service Behavior</a></li><li><a aria-current="page" href="/blog/cli-commands.html#_4-integration-testing-tips" class="router-link-active router-link-exact-active">4. Integration Testing Tips</a></li><li><a aria-current="page" href="/blog/cli-commands.html#_5-modular-application-development-tips" class="router-link-active router-link-exact-active">5. Modular Application Development Tips</a></li></ul></li><li><a aria-current="page" href="/blog/cli-commands.html#summary" class="router-link-active router-link-exact-active">Summary</a></li></ul></nav><p><img src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?q=80&amp;w=1740&amp;fm=jpg&amp;fit=crop" alt="programming.jpg"> Photo by <a href="https://unsplash.com/@cgower?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank" rel="noopener noreferrer">Christopher Gower<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span></a> on <a href="https://unsplash.com/photos/m_HRfLhgABo?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank" rel="noopener noreferrer">Unsplash<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span></a></p><p>go-doudou is a powerful Go language microservice development framework that provides rich command-line tools to help developers quickly build, deploy, and manage microservices. This article will detail the usage of various commands and subcommands of the go-doudou CLI tool, and explain them in conjunction with actual examples.</p><h2 id="installation-and-upgrade" tabindex="-1"><a class="header-anchor" href="#installation-and-upgrade" aria-hidden="true">#</a> Installation and Upgrade</h2><h3 id="installing-go-doudou" tabindex="-1"><a class="header-anchor" href="#installing-go-doudou" aria-hidden="true">#</a> Installing go-doudou</h3><p>For Go versions below 1.17:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go get -v github.com/unionj-cloud/go-doudou/v2@v2.5.8</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>For Go versions &gt;= 1.17, it&#39;s recommended to use the following command to install the <code>go-doudou</code> command-line tool globally:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go install -v github.com/unionj-cloud/go-doudou/v2@v2.5.8</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>It&#39;s recommended to use the following command to download go-doudou as a project dependency:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go get -v -d github.com/unionj-cloud/go-doudou/v2@v2.5.8</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">Tip</p><p>If you encounter a <code>410 Gone error</code>, please execute the following command first, and then execute the above installation command:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">export</span><span style="color:#D4D4D4;"> GOSUMDB=off</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></div><h3 id="upgrading-go-doudou" tabindex="-1"><a class="header-anchor" href="#upgrading-go-doudou" aria-hidden="true">#</a> Upgrading go-doudou</h3><p>Execute the <code>go-doudou version</code> command to upgrade the globally installed go-doudou command-line tool:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou version</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>If a new version is detected, you will be prompted whether to upgrade. After selecting &quot;Yes&quot;, the latest version will be automatically installed.</p><h2 id="command-overview" tabindex="-1"><a class="header-anchor" href="#command-overview" aria-hidden="true">#</a> Command Overview</h2><p>The basic usage of the go-doudou command-line tool is as follows:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou [flags]</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou [command]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Main commands include:</p><ul><li><code>svc</code>: Generate or update services <ul><li><code>init</code>: Initialize new project</li><li><code>http</code>: Generate HTTP routes and handlers <ul><li><code>client</code>: Generate HTTP client code</li><li><code>test</code>: Generate integration test code</li></ul></li><li><code>grpc</code>: Generate gRPC service code</li><li><code>crud</code>: Generate generic CRUD code from database</li><li><code>run</code>: Run the service</li><li><code>push</code>: Build Docker image and push</li><li><code>deploy</code>: Deploy the service to Kubernetes</li><li><code>shutdown</code>: Shut down the deployed service</li></ul></li><li><code>completion</code>: Generate autocompletion script for specified shell</li><li><code>enum</code>: Generate functions for constants to implement IEnum interface</li><li><code>name</code>: Bulk add or update JSON tags of struct fields</li><li><code>version</code>: Show the version number of go-doudou</li><li><code>work</code>: Build modular application</li></ul><div class="custom-container warning"><p class="custom-container-title">Note</p><p>Although the <code>ddl</code> command may still be visible in the help information, this command has been deprecated and is not recommended for use in new projects. Please use the <code>svc crud</code> command instead.</p></div><p>You can view the help information by running <code>go-doudou -h</code>:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou -h</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Example output:</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou works like a scaffolding tool but more than that. 
it lets api providers design their apis and help them code less. 
it generates openapi 3.0 spec json document for frontend developers or other api consumers to understand what apis there, 
consumers can import it into postman to debug and test, or upload it into some code generators to download client sdk.
it provides some useful components and middleware for constructing microservice cluster like service register and discovering, 
load balancing and so on. it just begins, more features will come out soon.

Usage:
  go-doudou [flags]
  go-doudou [command]

Available Commands:
  completion  Generate the autocompletion script for the specified shell
  enum        Generate functions for constants to implement IEnum interface
  help        Help about any command
  name        bulk add or update json tag of struct fields
  svc         generate or update service
  version     Print the version number of go-doudou
  work        Build modular application

Flags:
  -h, --help      help for go-doudou
  -v, --version   version for go-doudou
</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="detailed-explanation-of-the-completion-command" tabindex="-1"><a class="header-anchor" href="#detailed-explanation-of-the-completion-command" aria-hidden="true">#</a> Detailed Explanation of the completion Command</h2><p>The <code>completion</code> command is used to generate an autocompletion script for the specified shell to improve the efficiency of using the go-doudou command line.</p><h3 id="basic-usage" tabindex="-1"><a class="header-anchor" href="#basic-usage" aria-hidden="true">#</a> Basic Usage</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou completion [command]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="subcommands" tabindex="-1"><a class="header-anchor" href="#subcommands" aria-hidden="true">#</a> Subcommands</h3><ul><li><code>bash</code>: Generate an autocompletion script for bash</li><li><code>fish</code>: Generate an autocompletion script for fish</li><li><code>powershell</code>: Generate an autocompletion script for powershell</li><li><code>zsh</code>: Generate an autocompletion script for zsh</li></ul><h3 id="examples" tabindex="-1"><a class="header-anchor" href="#examples" aria-hidden="true">#</a> Examples</h3><p>Generate bash autocompletion script:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou completion bash &gt; ~/.bash_completion</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Generate zsh autocompletion script:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou completion zsh &gt; ~/.zsh_completion</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="detailed-explanation-of-the-svc-command" tabindex="-1"><a class="header-anchor" href="#detailed-explanation-of-the-svc-command" aria-hidden="true">#</a> Detailed Explanation of the svc Command</h2><p>The <code>svc</code> command is the most commonly used command in the go-doudou command-line tool, used to generate or update service-related code. It contains multiple subcommands:</p><h3 id="svc-init" tabindex="-1"><a class="header-anchor" href="#svc-init" aria-hidden="true">#</a> svc init</h3><p>The <code>svc init</code> command is used to initialize a new go-doudou microservice project.</p><h4 id="basic-usage-1" tabindex="-1"><a class="header-anchor" href="#basic-usage-1" aria-hidden="true">#</a> Basic Usage</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc init [dir] [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>where <code>[dir]</code> is the name of the project directory to initialize.</p><h4 id="common-parameters" tabindex="-1"><a class="header-anchor" href="#common-parameters" aria-hidden="true">#</a> Common Parameters</h4><ul><li><code>-m, --mod</code>: Module name</li><li><code>--module</code>: Initialize as a component of a modular application (boolean value). When set to <code>true</code>, go-doudou will automatically call <code>go work use</code> to add the component to the workspace.</li><li><code>-f, --file</code>: Path or download link to an OpenAPI 3.0 or Swagger 2.0 specification JSON file</li><li><code>--case</code>: Naming convention for protobuf message fields and JSON tags, supports &quot;lowerCamel&quot; and &quot;snake&quot; (default &quot;lowerCamel&quot;)</li><li><code>-t, --type</code>: Specify project type, value can be &quot;grpc&quot; or &quot;rest&quot; (default &quot;grpc&quot;)</li><li><code>--grpc_gen_cmd</code>: Command for generating gRPC service and message code (default uses protoc command)</li></ul><h4 id="examples-1" tabindex="-1"><a class="header-anchor" href="#examples-1" aria-hidden="true">#</a> Examples</h4><p>Basic initialization:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc init myservice -m github.com/myorg/myservice</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Initialize with MySQL database and generate gRPC code:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc init myservice --db_driver mysql --db_dsn </span><span style="color:#CE9178;">&quot;root:password@tcp(localhost:3306)/mydb?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;</span><span style="color:#D4D4D4;"> --db_soft deleted_at --db_grpc</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Initialize as a component of a modular application:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc init component-c -m my-workspace/component-c --module</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>When using the <code>--module</code> flag, go-doudou will automatically perform the following operations:</p><ol><li>Create the necessary project structure</li><li>Automatically call <code>go work use</code> to add the newly created component to the workspace</li><li>Generate plugins and entry code for the modular application</li><li>Update the main application&#39;s import statements to automatically include the new component&#39;s plugins</li></ol><h3 id="svc-http" tabindex="-1"><a class="header-anchor" href="#svc-http" aria-hidden="true">#</a> svc http</h3><p>The <code>svc http</code> command is used to generate HTTP routes and handlers.</p><h4 id="basic-usage-2" tabindex="-1"><a class="header-anchor" href="#basic-usage-2" aria-hidden="true">#</a> Basic Usage</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc http [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="common-parameters-1" tabindex="-1"><a class="header-anchor" href="#common-parameters-1" aria-hidden="true">#</a> Common Parameters</h4><ul><li><code>--handler</code>: Whether to generate default handler implementations (boolean value)</li><li><code>-c, --client</code>: Whether to generate default Go HTTP client code (boolean value)</li><li><code>-o, --omitempty</code>: Whether to add <code>omitempty</code> to JSON tags in generated anonymous structs (boolean value)</li><li><code>--case</code>: JSON tag naming convention applied to fields in anonymous structs in generated handlers, options are &quot;lowerCamel&quot; or &quot;snake&quot; (default &quot;lowerCamel&quot;)</li><li><code>--doc</code>: Whether to generate OpenAPI 3.0 JSON documentation (boolean value)</li><li><code>-e, --env</code>: Base URL environment variable name</li><li><code>-r, --routePattern</code>: Route pattern generation strategy, 0 means splitting each method of the service interface by slash / (after converting to snake_case), 1 means not splitting, just converting to lowercase</li><li><code>--allowGetWithReqBody</code>: Whether to allow GET requests with request bodies (boolean value)</li></ul><h4 id="examples-2" tabindex="-1"><a class="header-anchor" href="#examples-2" aria-hidden="true">#</a> Examples</h4><p>Generate HTTP routes and client code:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc http -c</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Generate HTTP routes, handlers, and OpenAPI documentation:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc http --handler --doc</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-http-client" tabindex="-1"><a class="header-anchor" href="#svc-http-client" aria-hidden="true">#</a> svc http client</h3><p><code>svc http client</code> is a subcommand of <code>svc http</code>, used to generate HTTP client code from an OpenAPI 3.0 specification JSON file.</p><h4 id="basic-usage-3" tabindex="-1"><a class="header-anchor" href="#basic-usage-3" aria-hidden="true">#</a> Basic Usage</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc http client [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="common-parameters-2" tabindex="-1"><a class="header-anchor" href="#common-parameters-2" aria-hidden="true">#</a> Common Parameters</h4><ul><li><code>-f, --file</code>: Path or download link to an OpenAPI 3.0 or Swagger 2.0 specification JSON file</li><li><code>-e, --env</code>: Base URL environment variable name</li><li><code>-p, --pkg</code>: Client package name (default &quot;client&quot;)</li><li><code>-o, --omit</code>: Whether to add <code>omitempty</code> to JSON tags (boolean value)</li></ul><h4 id="examples-3" tabindex="-1"><a class="header-anchor" href="#examples-3" aria-hidden="true">#</a> Examples</h4><p>Generate client code from an OpenAPI document:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc http client -f ./api-docs.json -e BASE_URL -p client</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-http-test" tabindex="-1"><a class="header-anchor" href="#svc-http-test" aria-hidden="true">#</a> svc http test</h3><p><code>svc http test</code> is a subcommand of <code>svc http</code>, used to generate integration test code from a Postman Collection file.</p><h4 id="basic-usage-4" tabindex="-1"><a class="header-anchor" href="#basic-usage-4" aria-hidden="true">#</a> Basic Usage</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc http </span><span style="color:#DCDCAA;">test</span><span style="color:#D4D4D4;"> [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="common-parameters-3" tabindex="-1"><a class="header-anchor" href="#common-parameters-3" aria-hidden="true">#</a> Common Parameters</h4><ul><li><code>--collection</code>: Path to a Postman Collection v2.1 compatible file</li><li><code>--dotenv</code>: Path to a dotenv format configuration file for integration tests only</li></ul><h4 id="examples-4" tabindex="-1"><a class="header-anchor" href="#examples-4" aria-hidden="true">#</a> Examples</h4><p>Generate test code from a Postman Collection:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc http </span><span style="color:#DCDCAA;">test</span><span style="color:#D4D4D4;"> --collection ./postman_collection.json --dotenv ./.env.test</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-grpc" tabindex="-1"><a class="header-anchor" href="#svc-grpc" aria-hidden="true">#</a> svc grpc</h3><p>The <code>svc grpc</code> command is used to generate gRPC service code.</p><h4 id="basic-usage-5" tabindex="-1"><a class="header-anchor" href="#basic-usage-5" aria-hidden="true">#</a> Basic Usage</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="common-parameters-4" tabindex="-1"><a class="header-anchor" href="#common-parameters-4" aria-hidden="true">#</a> Common Parameters</h4><ul><li><code>-o, --omitempty</code>: Whether to add <code>omitempty</code> to JSON tags in generated anonymous structs (boolean value)</li><li><code>--case</code>: protobuf message field naming strategy, supports &quot;lowerCamel&quot; and &quot;snake&quot; (default &quot;lowerCamel&quot;)</li><li><code>--grpc_gen_cmd</code>: Command for generating gRPC service and message code (default uses protoc command)</li><li><code>--http2grpc</code>: Whether to generate RESTful API for gRPC service (boolean value)</li><li><code>--allow_get_body</code>: Whether to allow GET requests with request bodies (boolean value)</li><li><code>--annotated_only</code>: Whether to only generate gRPC API for methods with @grpc annotation (boolean value)</li></ul><h4 id="examples-5" tabindex="-1"><a class="header-anchor" href="#examples-5" aria-hidden="true">#</a> Examples</h4><p>Generate basic gRPC service code:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Generate gRPC service code and provide RESTful API proxy:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc --http2grpc</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Generate gRPC service code that only includes methods with @grpc annotation:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc --annotated_only</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-crud" tabindex="-1"><a class="header-anchor" href="#svc-crud" aria-hidden="true">#</a> svc crud</h3><p>The <code>svc crud</code> command is used to generate generic CRUD code from a database. This command is the recommended choice to replace the deprecated <code>ddl</code> command.</p><h4 id="basic-usage-6" tabindex="-1"><a class="header-anchor" href="#basic-usage-6" aria-hidden="true">#</a> Basic Usage</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc crud [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="common-parameters-5" tabindex="-1"><a class="header-anchor" href="#common-parameters-5" aria-hidden="true">#</a> Common Parameters</h4><ul><li><code>--db_orm</code>: Specify ORM, currently only supports gorm (default &quot;gorm&quot;)</li><li><code>--db_driver</code>: Database driver type, options are &quot;mysql&quot;, &quot;postgres&quot;, &quot;sqlite&quot;, &quot;sqlserver&quot;, &quot;tidb&quot;</li><li><code>--db_dsn</code>: Database connection URL</li><li><code>--db_soft</code>: Database soft delete column name (default &quot;deleted_at&quot;)</li><li><code>--db_service</code>: Generate gRPC or REST service, accepts values: grpc or rest</li><li><code>--db_gen_gen</code>: Whether to generate gen.go file (boolean value)</li><li><code>--db_table_prefix</code>: Table prefix or PostgreSQL schema name</li><li><code>--db_table_glob</code>: For filtering tables with glob matching</li><li><code>--db_table_exclude_glob</code>: For excluding tables with glob matching</li><li><code>--case</code>: protobuf message field and JSON tag naming convention, supports &quot;lowerCamel&quot; and &quot;snake&quot; (default &quot;lowerCamel&quot;)</li><li><code>--db_type_mapping</code>: Specify custom column type to Go type mappings</li><li><code>--db_omitempty</code>: Whether to add <code>omitempty</code> to JSON tags in generated model fields (boolean value)</li><li><code>--grpc_gen_cmd</code>: Command for generating gRPC service and message code (default uses protoc command)</li></ul><h4 id="examples-6" tabindex="-1"><a class="header-anchor" href="#examples-6" aria-hidden="true">#</a> Examples</h4><p>Generate CRUD code from a MySQL database:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc crud --db_driver mysql --db_dsn </span><span style="color:#CE9178;">&quot;root:password@tcp(localhost:3306)/mydb?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;</span><span style="color:#D4D4D4;"> --db_soft deleted_at --db_service rest</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Generate CRUD code from a PostgreSQL database, and specify schema:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc crud --db_driver postgres --db_dsn </span><span style="color:#CE9178;">&quot;host=localhost user=postgres password=postgres dbname=mydb port=5432 sslmode=disable&quot;</span><span style="color:#D4D4D4;"> --db_table_prefix public --db_service grpc</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Generate CRUD code for specific tables only:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc crud --db_driver mysql --db_dsn </span><span style="color:#CE9178;">&quot;root:password@tcp(localhost:3306)/mydb&quot;</span><span style="color:#D4D4D4;"> --db_table_glob </span><span style="color:#CE9178;">&quot;user_*&quot;</span><span style="color:#D4D4D4;"> --db_service rest</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-run" tabindex="-1"><a class="header-anchor" href="#svc-run" aria-hidden="true">#</a> svc run</h3><p>The <code>svc run</code> command is used to run a go-doudou service.</p><h4 id="basic-usage-7" tabindex="-1"><a class="header-anchor" href="#basic-usage-7" aria-hidden="true">#</a> Basic Usage</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc run [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="common-parameters-6" tabindex="-1"><a class="header-anchor" href="#common-parameters-6" aria-hidden="true">#</a> Common Parameters</h4><ul><li><code>-w, --watch</code>: Enable watch mode, automatically restart the service when files change (boolean value)</li></ul><h4 id="examples-7" tabindex="-1"><a class="header-anchor" href="#examples-7" aria-hidden="true">#</a> Examples</h4><p>Start the service:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc run</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Start the service with watch mode enabled:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc run -w</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-push" tabindex="-1"><a class="header-anchor" href="#svc-push" aria-hidden="true">#</a> svc push</h3><p>The <code>svc push</code> command is used to build Docker images and push them to an image repository, while generating or updating K8s deployment YAML files.</p><h4 id="basic-usage-8" tabindex="-1"><a class="header-anchor" href="#basic-usage-8" aria-hidden="true">#</a> Basic Usage</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc push [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="common-parameters-7" tabindex="-1"><a class="header-anchor" href="#common-parameters-7" aria-hidden="true">#</a> Common Parameters</h4><ul><li><code>-r, --repo</code>: Private Docker image repository</li><li><code>--pre</code>: Image name prefix for building and pushing Docker images</li><li><code>--ver</code>: Docker image version</li></ul><h4 id="examples-8" tabindex="-1"><a class="header-anchor" href="#examples-8" aria-hidden="true">#</a> Examples</h4><p>Build an image and push it to a private repository:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc push -r myregistry.com/myuser</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Build an image with a version tag:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc push -r myregistry.com/myuser --ver v1.0.0</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-deploy" tabindex="-1"><a class="header-anchor" href="#svc-deploy" aria-hidden="true">#</a> svc deploy</h3><p>The <code>svc deploy</code> command wraps the kubectl apply command, used to deploy a service to a Kubernetes cluster.</p><h4 id="basic-usage-9" tabindex="-1"><a class="header-anchor" href="#basic-usage-9" aria-hidden="true">#</a> Basic Usage</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc deploy [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="common-parameters-8" tabindex="-1"><a class="header-anchor" href="#common-parameters-8" aria-hidden="true">#</a> Common Parameters</h4><ul><li><code>-k, --k8sfile</code>: Kubernetes YAML file for deploying the service</li></ul><h4 id="examples-9" tabindex="-1"><a class="header-anchor" href="#examples-9" aria-hidden="true">#</a> Examples</h4><p>Deploy a service with default configuration:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc deploy</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Deploy a service with a specified Kubernetes configuration file:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc deploy -k myservice_deployment.yaml</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-shutdown" tabindex="-1"><a class="header-anchor" href="#svc-shutdown" aria-hidden="true">#</a> svc shutdown</h3><p>The <code>svc shutdown</code> command wraps the kubectl delete command, used to shut down a deployed service.</p><h4 id="basic-usage-10" tabindex="-1"><a class="header-anchor" href="#basic-usage-10" aria-hidden="true">#</a> Basic Usage</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc shutdown [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="common-parameters-9" tabindex="-1"><a class="header-anchor" href="#common-parameters-9" aria-hidden="true">#</a> Common Parameters</h4><ul><li><code>-k, --k8sfile</code>: Kubernetes YAML file for deploying the service</li></ul><h4 id="examples-10" tabindex="-1"><a class="header-anchor" href="#examples-10" aria-hidden="true">#</a> Examples</h4><p>Shut down a service deployed with default configuration:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc shutdown</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Shut down a service with a specified Kubernetes configuration file:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc shutdown -k myservice_deployment.yaml</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="detailed-explanation-of-the-name-command" tabindex="-1"><a class="header-anchor" href="#detailed-explanation-of-the-name-command" aria-hidden="true">#</a> Detailed Explanation of the name Command</h2><p>The <code>name</code> command is used to bulk add or update JSON tags for struct fields.</p><h3 id="basic-usage-11" tabindex="-1"><a class="header-anchor" href="#basic-usage-11" aria-hidden="true">#</a> Basic Usage</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou name [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="common-parameters-10" tabindex="-1"><a class="header-anchor" href="#common-parameters-10" aria-hidden="true">#</a> Common Parameters</h3><ul><li><code>-f, --file</code>: Go source file path</li><li><code>-c, --case</code>: JSON tag naming convention, supports &quot;lowerCamel&quot;, &quot;snake&quot;, etc. (default &quot;lowerCamel&quot;)</li><li><code>-s, --strategy</code>: Naming strategy name, currently only supports &quot;lowerCamel&quot; and &quot;snake&quot; (default &quot;lowerCamel&quot;)</li><li><code>-o, --omitempty</code>: Whether to add <code>omitempty</code> marker (boolean value)</li><li><code>--form</code>: Whether to add form tags for <a href="https://github.com/go-playground/form" target="_blank" rel="noopener noreferrer">github.com/go-playground/form<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span></a></li></ul><h3 id="examples-11" tabindex="-1"><a class="header-anchor" href="#examples-11" aria-hidden="true">#</a> Examples</h3><p>Add snake_case JSON tags to fields in the User struct:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou name -f ./model/user.go -c snake -o</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Generate both JSON and form tags:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou name -f ./model/user.go -c lowerCamel -o --form</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="detailed-explanation-of-the-enum-command" tabindex="-1"><a class="header-anchor" href="#detailed-explanation-of-the-enum-command" aria-hidden="true">#</a> Detailed Explanation of the enum Command</h2><p>The <code>enum</code> command is used to generate functions implementing the <code>IEnum</code> interface for constants. This is useful for using enum types in Go.</p><h3 id="basic-usage-12" tabindex="-1"><a class="header-anchor" href="#basic-usage-12" aria-hidden="true">#</a> Basic Usage</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou enum [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="common-parameters-11" tabindex="-1"><a class="header-anchor" href="#common-parameters-11" aria-hidden="true">#</a> Common Parameters</h3><ul><li><code>-f, --file</code>: Absolute path to a Go source file</li></ul><h3 id="examples-12" tabindex="-1"><a class="header-anchor" href="#examples-12" aria-hidden="true">#</a> Examples</h3><p>Generate enum interface implementations for a file containing constant definitions:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou enum -f ./enum/status.go</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Example of generated code (assuming status.go defines constants of type Status):</p><div class="language-go ext-go line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;">// Original file</span></span>
<span class="line"><span style="color:#569CD6;">type</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">Status</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">int</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;">    StatusPending </span><span style="color:#9CDCFE;">Status</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">iota</span></span>
<span class="line"><span style="color:#D4D4D4;">    StatusActive</span></span>
<span class="line"><span style="color:#D4D4D4;">    StatusInactive</span></span>
<span class="line"><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">// Generated functions</span></span>
<span class="line"><span style="color:#569CD6;">func</span><span style="color:#D4D4D4;"> (s *Status) </span><span style="color:#DCDCAA;">StringSetter</span><span style="color:#D4D4D4;">(value </span><span style="color:#4EC9B0;">string</span><span style="color:#D4D4D4;">) {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">switch</span><span style="color:#D4D4D4;"> value {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">case</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;StatusPending&quot;</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">        *</span><span style="color:#9CDCFE;">s</span><span style="color:#D4D4D4;"> = StatusPending</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">case</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;StatusActive&quot;</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">        *</span><span style="color:#9CDCFE;">s</span><span style="color:#D4D4D4;"> = StatusActive</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">case</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;StatusInactive&quot;</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">        *</span><span style="color:#9CDCFE;">s</span><span style="color:#D4D4D4;"> = StatusInactive</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">default</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">        *</span><span style="color:#9CDCFE;">s</span><span style="color:#D4D4D4;"> = StatusPending</span></span>
<span class="line"><span style="color:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">func</span><span style="color:#D4D4D4;"> (s *Status) </span><span style="color:#DCDCAA;">StringGetter</span><span style="color:#D4D4D4;">() </span><span style="color:#4EC9B0;">string</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">switch</span><span style="color:#D4D4D4;"> *s {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">case</span><span style="color:#D4D4D4;"> StatusPending:</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;StatusPending&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">case</span><span style="color:#D4D4D4;"> StatusActive:</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;StatusActive&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">case</span><span style="color:#D4D4D4;"> StatusInactive:</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;StatusInactive&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">default</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;StatusPending&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="detailed-explanation-of-the-version-command" tabindex="-1"><a class="header-anchor" href="#detailed-explanation-of-the-version-command" aria-hidden="true">#</a> Detailed Explanation of the version Command</h2><p>The <code>version</code> command is used to display the version number of go-doudou and check if a new version is available.</p><h3 id="basic-usage-13" tabindex="-1"><a class="header-anchor" href="#basic-usage-13" aria-hidden="true">#</a> Basic Usage</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou version</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="examples-13" tabindex="-1"><a class="header-anchor" href="#examples-13" aria-hidden="true">#</a> Examples</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou version</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Example output:</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou version v2.5.8
</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>If an updated version is detected, you will be prompted whether to upgrade:</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">A new version is available: v2.5.9
Do you want to upgrade? [Y/n]
</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="detailed-explanation-of-the-work-command" tabindex="-1"><a class="header-anchor" href="#detailed-explanation-of-the-work-command" aria-hidden="true">#</a> Detailed Explanation of the work Command</h2><p>The <code>work</code> command is used to build modular applications, it creates a project structure with a workspace and a main entry module.</p><h3 id="basic-usage-14" tabindex="-1"><a class="header-anchor" href="#basic-usage-14" aria-hidden="true">#</a> Basic Usage</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou work [flags]</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou work [command]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="subcommands-1" tabindex="-1"><a class="header-anchor" href="#subcommands-1" aria-hidden="true">#</a> Subcommands</h3><ul><li><code>init</code>: Initialize a workspace folder</li></ul><h3 id="work-init" tabindex="-1"><a class="header-anchor" href="#work-init" aria-hidden="true">#</a> work init</h3><p>The <code>work init</code> command is used to initialize a workspace folder for developing modular applications.</p><h4 id="basic-usage-15" tabindex="-1"><a class="header-anchor" href="#basic-usage-15" aria-hidden="true">#</a> Basic Usage</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou work init [dir]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>where <code>[dir]</code> is the path to the workspace directory to initialize. If not specified, the current directory is used.</p><h4 id="workspace-structure" tabindex="-1"><a class="header-anchor" href="#workspace-structure" aria-hidden="true">#</a> Workspace Structure</h4><p>After executing the <code>work init</code> command, go-doudou will create the following workspace structure:</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">workspace/              # Workspace root directory
├── go.work             # Go workspace file, automatically includes main module and other components
└── main/               # Main entry module directory
    ├── go.mod          # go.mod file for the main module
    ├── .env            # Environment variable configuration file
    └── cmd/            # Command directory
        └── main.go     # Main entry file, responsible for loading and running all components
</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>When adding components using <code>svc init --module</code>, go-doudou will automatically call the <code>go work use</code> command to add the new component to the workspace, and automatically update the <code>main/cmd/main.go</code> file to import the new component&#39;s plugins.</p><h4 id="examples-14" tabindex="-1"><a class="header-anchor" href="#examples-14" aria-hidden="true">#</a> Examples</h4><p>Initialize the current directory as a workspace:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou work init</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Specify a directory as a workspace:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou work init ./my-workspace</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="practical-application-examples" tabindex="-1"><a class="header-anchor" href="#practical-application-examples" aria-hidden="true">#</a> Practical Application Examples</h2><h3 id="_1-microservice-initialization-and-development-process" tabindex="-1"><a class="header-anchor" href="#_1-microservice-initialization-and-development-process" aria-hidden="true">#</a> 1. Microservice Initialization and Development Process</h3><p>Here is a complete microservice development process:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Step 1: Initialize the project</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc init myservice -m github.com/myorg/myservice</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Step 2: Edit the svc.go file to define the service interface</span></span>
<span class="line"><span style="color:#6A9955;"># Define the service interface in myservice/svc.go</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Step 3: Generate HTTP and gRPC service code</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> myservice</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc http -c --doc</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Step 4: Implement business logic</span></span>
<span class="line"><span style="color:#6A9955;"># Edit the svcimpl.go file</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Step 5: Run the service</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc run</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Step 6: Build the image and deploy</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc push -r myregistry.com/myuser</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc deploy</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_2-database-table-based-microservice-generation" tabindex="-1"><a class="header-anchor" href="#_2-database-table-based-microservice-generation" aria-hidden="true">#</a> 2. Database Table-Based Microservice Generation</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Step 1: Initialize a project with database support</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc init dbservice -m github.com/myorg/dbservice --db_driver mysql --db_dsn </span><span style="color:#CE9178;">&quot;root:password@tcp(localhost:3306)/mydb?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;</span><span style="color:#D4D4D4;"> --db_soft deleted_at --db_grpc --db_rest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Step 2: Run the service</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> dbservice</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc run</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_3-using-the-crud-command-to-generate-a-crud-service-from-an-existing-database" tabindex="-1"><a class="header-anchor" href="#_3-using-the-crud-command-to-generate-a-crud-service-from-an-existing-database" aria-hidden="true">#</a> 3. Using the crud Command to Generate a CRUD Service from an Existing Database</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Step 1: Run the command in an existing project directory</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> myproject</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc crud --db_driver postgres --db_dsn </span><span style="color:#CE9178;">&quot;host=localhost user=postgres password=postgres dbname=mydb&quot;</span><span style="color:#D4D4D4;"> --db_service rest --db_soft deleted_at</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Step 2: Run the generated service</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc run</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_4-modular-application-development-in-a-workspace" tabindex="-1"><a class="header-anchor" href="#_4-modular-application-development-in-a-workspace" aria-hidden="true">#</a> 4. Modular Application Development in a Workspace</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Step 1: Initialize the workspace</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou work init my-workspace</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> my-workspace</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Step 2: Initialize modular components</span></span>
<span class="line"><span style="color:#6A9955;"># go-doudou will automatically execute &quot;go work use&quot; to add the component to the workspace</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc init component-a -m my-workspace/component-a --module</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc init component-b -m my-workspace/component-b --module</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Step 3: Define the service interface and generate code in each component</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> component-a</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc http -c</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> ../component-b</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc http -c</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Step 4: Start the main application - the main module will automatically import all components</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> ../main</span></span>
<span class="line"><span style="color:#D4D4D4;">go run cmd/main.go</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>How modular applications work:</p><ul><li>Each component generates a <code>plugin</code> package during initialization, used to register itself to the main application</li><li>The main application (<code>main</code> module) automatically imports all component plugins and initializes them at runtime</li><li>When calling <code>svc init --module</code>, go-doudou automatically executes <code>go work use</code> to add the new component to the workspace</li><li>At the same time, it updates the <code>main/cmd/main.go</code> file, adding import statements for the new component&#39;s plugins</li></ul><h3 id="_5-implementing-enum-types" tabindex="-1"><a class="header-anchor" href="#_5-implementing-enum-types" aria-hidden="true">#</a> 5. Implementing Enum Types</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Step 1: Define enum constants</span></span>
<span class="line"><span style="color:#6A9955;"># Define the following in a status.go file</span></span>
<span class="line"><span style="color:#DCDCAA;">type</span><span style="color:#D4D4D4;"> Status int</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">const (</span></span>
<span class="line"><span style="color:#D4D4D4;">    StatusPending Status = iota</span></span>
<span class="line"><span style="color:#D4D4D4;">    StatusActive</span></span>
<span class="line"><span style="color:#D4D4D4;">    StatusInactive</span></span>
<span class="line"><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Step 2: Generate enum interface implementation</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou enum -f ./model/status.go</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_6-generate-autocompletion-scripts" tabindex="-1"><a class="header-anchor" href="#_6-generate-autocompletion-scripts" aria-hidden="true">#</a> 6. Generate Autocompletion Scripts</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Generate bash autocompletion script</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou completion bash &gt; ~/.bash_completion</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Generate zsh autocompletion script</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou completion zsh &gt; ~/.zsh_completion</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="advanced-usage-and-tips" tabindex="-1"><a class="header-anchor" href="#advanced-usage-and-tips" aria-hidden="true">#</a> Advanced Usage and Tips</h2><h3 id="_1-using-annotations-to-control-interface-permissions" tabindex="-1"><a class="header-anchor" href="#_1-using-annotations-to-control-interface-permissions" aria-hidden="true">#</a> 1. Using Annotations to Control Interface Permissions</h3><p>In the service interface, you can add annotations using special comments, such as:</p><div class="language-go ext-go line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;">// @role(ADMIN)</span></span>
<span class="line"><span style="color:#DCDCAA;">GetAdminData</span><span style="color:#D4D4D4;">(ctx context.Context) (data </span><span style="color:#4EC9B0;">string</span><span style="color:#D4D4D4;">, err </span><span style="color:#4EC9B0;">error</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Then check these annotations in middleware:</p><div class="language-go ext-go line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#9CDCFE;">annotations</span><span style="color:#D4D4D4;"> := httpsrv.RouteAnnotationStore.</span><span style="color:#DCDCAA;">GetParams</span><span style="color:#D4D4D4;">(routeName, </span><span style="color:#CE9178;">&quot;@role&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#C586C0;">if</span><span style="color:#D4D4D4;"> !sliceutils.</span><span style="color:#DCDCAA;">StringContains</span><span style="color:#D4D4D4;">(annotations, userRole) {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#6A9955;">// Deny access</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_2-custom-protoc-command" tabindex="-1"><a class="header-anchor" href="#_2-custom-protoc-command" aria-hidden="true">#</a> 2. Custom protoc Command</h3><p>For complex gRPC services, you can customize the protoc command:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc --grpc_gen_cmd </span><span style="color:#CE9178;">&quot;protoc --proto_path=. --go_out=. --go_opt=paths=source_relative --go-grpc_out=. --go-grpc_opt=paths=source_relative --validate_out=lang=go,paths=source_relative:. transport/grpc/myservice.proto&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="_3-environment-variables-affecting-service-behavior" tabindex="-1"><a class="header-anchor" href="#_3-environment-variables-affecting-service-behavior" aria-hidden="true">#</a> 3. Environment Variables Affecting Service Behavior</h3><p>go-doudou supports various environment variables to configure service behavior:</p><ul><li><code>GDD_SERVICE_NAME</code>: Service name</li><li><code>GDD_SERVICE_GROUP</code>: Service group name</li><li><code>GDD_SERVICE_VERSION</code>: Service version</li><li><code>GDD_WEIGHT</code>: Service instance weight</li><li><code>GDD_REGISTER_HOST</code>: Service registration host</li><li><code>GDD_HTTP_PORT</code>: HTTP service port</li><li><code>GDD_GRPC_PORT</code>: gRPC service port</li><li><code>GDD_LOG_LEVEL</code>: Log level, optional values: &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, &quot;error&quot;</li><li><code>GDD_PROMETHEUS</code>: Whether to enable Prometheus metrics collection</li></ul><p>Example:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">export</span><span style="color:#D4D4D4;"> GDD_SERVICE_NAME=myservice</span></span>
<span class="line"><span style="color:#569CD6;">export</span><span style="color:#D4D4D4;"> GDD_HTTP_PORT=8080</span></span>
<span class="line"><span style="color:#569CD6;">export</span><span style="color:#D4D4D4;"> GDD_LOG_LEVEL=debug</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc run</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_4-integration-testing-tips" tabindex="-1"><a class="header-anchor" href="#_4-integration-testing-tips" aria-hidden="true">#</a> 4. Integration Testing Tips</h3><p>Using the test code generated by the <code>svc http test</code> command, you can easily implement integration tests:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Step 1: Generate test code from a Postman Collection</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc http </span><span style="color:#DCDCAA;">test</span><span style="color:#D4D4D4;"> --collection ./collection.json --dotenv ./.env.test</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Step 2: Run the tests</span></span>
<span class="line"><span style="color:#D4D4D4;">go </span><span style="color:#DCDCAA;">test</span><span style="color:#D4D4D4;"> -v ./test/...</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_5-modular-application-development-tips" tabindex="-1"><a class="header-anchor" href="#_5-modular-application-development-tips" aria-hidden="true">#</a> 5. Modular Application Development Tips</h3><p>For large projects, you can easily manage modular applications using the <code>work</code> command and the <code>--module</code> flag:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Initialize workspace</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou work init my-workspace</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> my-workspace</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Add multiple modules - go-doudou will automatically call go work use</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc init api-gateway -m my-workspace/api-gateway --module</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc init user-service -m my-workspace/user-service --module</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc init product-service -m my-workspace/product-service --module</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Start the application (main module automatically imports and initializes all components)</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> main</span></span>
<span class="line"><span style="color:#D4D4D4;">go run cmd/main.go</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Advantages of modular applications:</p><ul><li>Clearer code organization, each component is maintained independently</li><li>Can develop and test each component independently</li><li>Shared dependencies are resolved through go.work, avoiding dependency conflicts</li><li>The main application automatically integrates all components, no need to manually write integration code</li><li>Suitable for the development and management of large microservice applications</li></ul><h2 id="summary" tabindex="-1"><a class="header-anchor" href="#summary" aria-hidden="true">#</a> Summary</h2><p>The go-doudou command-line tool provides rich functionality to help developers quickly build, deploy, and manage microservices. Through the various commands and subcommands introduced in this article, you can easily complete the entire process from service initialization and code generation to deployment.</p><p>The biggest feature of go-doudou is simplifying the microservice development process, eliminating the need to write a lot of boilerplate code, allowing you to focus on implementing business logic. It supports the generation of RESTful API and gRPC services, as well as integration with databases, making it an ideal choice for building modern Go microservices.</p><p>In addition, go-doudou also provides powerful modular application development support. Through the <code>work</code> command and the <code>--module</code> flag, you can easily manage multi-module projects. go-doudou will automatically execute <code>go work use</code> to add components to the workspace, and automatically import and initialize all components in the main application, greatly simplifying the development and maintenance work of modular applications.</p><div class="custom-container warning"><p class="custom-container-title">Important Note</p><p>Please note that the <code>ddl</code> command has been deprecated and is no longer recommended for use. If you need to generate code from a database or synchronize Go structs to a database, please use the <code>svc crud</code> command instead.</p></div><p>I hope this article helps you understand and use the go-doudou CLI tool. For more details, please refer to the <a href="https://go-doudou.github.io/" target="_blank" rel="noopener noreferrer">official documentation<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span></a> and example code repositories.</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/unionj-cloud/go-doudou/edit/main/blog/cli-commands.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub"><!--[--><!--]--> Edit this page on GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: wubinwill@gmail.com">武斌</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.2025f35b.js" defer></script>
  </body>
</html>
