# Deployment

## Monolithic Architecture
### ECS

You can deploy go-doudou service to ECS as normal go application.

### Docker

You can use the generated `Dockerfile` directly without any changes to build image.

```shell
docker build -t myservice . 
```

Then run `docker run` command.

```shell
docker run -it -d -p 6060:6060 myservice
```

Change `myservice` to arbitrary name as you will.

### Kubernetes

Go-doudou has out-of-box support for kubernetes deployment.

- Run `go-doudou svc push` command to build image locally and then push to remote repository. At the same time, two k8s files will be generated, one is for deployment kind application, the other is for statefulset kind application.

```shell
go-doudou svc push -r wubin1989
```

Change `wubin1989` to your private repository address.

- Then run `go-doudou svc deploy` command. It will use `_statefulset.yaml` suffixed file to deploy the service as statefulset application by default. You can specify `-k` flag to use your custom files or the `_deployment.yaml` suffixed file which is also generated by go-doudou to deploy the service as other kind application.

```shell
go-doudou svc deploy -k helloworld_deployment.yaml
```

Change `helloworld_deployment.yaml` to your custom file.

## Microservice Architecture
![microservice](/images/microservice.png)