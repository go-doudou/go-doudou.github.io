import{r as o,o as c,a as l,b as s,e as p,F as r,g as n,f as e}from"./app.2025f35b.js";import{_ as d}from"./plugin-vue_export-helper.21dcd24c.js";const i={},t=n(`<h1 id="\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#\u90E8\u7F72" aria-hidden="true">#</a> \u90E8\u7F72</h1><h2 id="ecs\u670D\u52A1\u5668" tabindex="-1"><a class="header-anchor" href="#ecs\u670D\u52A1\u5668" aria-hidden="true">#</a> ECS\u670D\u52A1\u5668</h2><ol><li><p>\u514B\u9686\u9879\u76EE\u4EE3\u7801\u5230\u670D\u52A1\u5668\u4E0A</p></li><li><p>\u5C06\u4EE3\u7801\u7F16\u8BD1\u6210\u4E8C\u8FDB\u5236\u53EF\u6267\u884C\u6587\u4EF6</p></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">export</span><span style="color:#D4D4D4;"> GDD_ENV=prod &amp;&amp; go build -o api cmd/main.go </span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>`,4),u={start:"3"},b=e("\u542F\u52A8\u53EF\u6267\u884C\u6587\u4EF6\uFF0C\u63A8\u8350\u7528screen\u547D\u4EE4\u6216"),h={href:"https://pm2.keymetrics.io/",target:"_blank",rel:"noopener noreferrer"},m=e("pm2"),D=e("\uFF0C\u8FD9\u91CC\u4EE5screen\u547D\u4EE4\u4E3A\u4F8B\uFF0C\u5148\u521B\u5EFA\u4E00\u4E2A\u7A97\u53E3"),_=s("code",null,"screen -S app",-1),v=e("\uFF0C\u7A97\u53E3\u540D\u5B57\u53EB"),y=s("code",null,"app",-1),k=e("\uFF0C\u542F\u52A8\u7A0B\u5E8F"),g=s("code",null,"./app",-1),E=e("\u3002"),x=s("code",null,"ctrl + a + d",-1),f=e("\u53EF\u4EE5\u9000\u51FAscreen\uFF0C"),C=s("code",null,"screen -r app",-1),S=e("\u53EF\u4EE5\u6253\u5F00\u521A\u624D\u521B\u5EFA\u7684app\u7A97\u53E3\uFF0C\u67E5\u770B\u547D\u4EE4\u884C\u7EC8\u7AEF\u8F93\u51FA\u7684\u65E5\u5FD7\u3002"),N=n(`<div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u5982\u679C\u662FCentos\u670D\u52A1\u5668\uFF0Cscreen\u7684\u5B89\u88C5\u547D\u4EE4\u662F<code>yum install -y screen</code>\u3002</p><p>\u60F3\u770B\u5F53\u524D\u5F00\u542F\u7684\u7A97\u53E3\u5217\u8868\uFF0C\u53EF\u7528<code>screen -ls</code>\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">\u279C  ~ screen -ls   </span></span>
<span class="line"><span style="color:#D4D4D4;">There is a screen on:</span></span>
<span class="line"><span style="color:#D4D4D4;">	16048.app	(Detached)</span></span>
<span class="line"><span style="color:#D4D4D4;">1 Socket </span><span style="color:#C586C0;">in</span><span style="color:#D4D4D4;"> /var/run/screen/S-root.</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u5982\u679C\u60F3\u5220\u6389app\u7A97\u53E3\uFF0C\u53EF\u4EE5\u5148\u6267\u884C\u547D\u4EE4<code>screen -r app</code>\u767B\u5F55\u8FDB\u53BB\uFF0C\u518D\u8F93\u5165<code>exit</code>\u56DE\u8F66\uFF0C\u5C31\u9000\u51FA\u5E76\u4E14\u5220\u9664app\u7A97\u53E3\u4E86\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">\u279C  ~ screen -r app</span></span>
<span class="line"><span style="color:#D4D4D4;">[screen is terminating]</span></span>
<span class="line"><span style="color:#D4D4D4;">\u279C  ~  </span></span>
<span class="line"><span style="color:#D4D4D4;">\u279C  ~ screen -ls   </span></span>
<span class="line"><span style="color:#D4D4D4;">No Sockets found </span><span style="color:#C586C0;">in</span><span style="color:#D4D4D4;"> /var/run/screen/S-root.</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u4E00\u822C\u7A0B\u5E8F\u5458\u65E5\u5E38\u5F00\u53D1\u638C\u63E1\u8FD9\u51E0\u4E2A\u547D\u4EE4\u5DF2\u7ECF\u505A\u591F\u4E86\u3002</p></div><h2 id="docker" tabindex="-1"><a class="header-anchor" href="#docker" aria-hidden="true">#</a> Docker</h2><p>\u4F60\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528<code>go-doudou svc init</code>\u547D\u4EE4\u751F\u6210\u7684<code>Dockerfile</code>\uFF0C\u4E5F\u53EF\u4EE5\u6839\u636E\u5B9E\u9645\u9879\u76EE\u9700\u6C42\u4FEE\u6539\u3002</p><p>\u5148\u4E0B\u8F7D\u4F9D\u8D56\u5230<code>vendor</code>\u6587\u4EF6\u5939</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go mod vendor
</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u518D\u6253\u5305\u955C\u50CF</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">docker build -t myservice </span><span style="color:#DCDCAA;">.</span><span style="color:#D4D4D4;"> </span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u6700\u540E\u6267\u884C<code>docker run</code>\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">docker run -it -d -p 6060:6060 myservice</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u9700\u8981\u628A<code>myservice</code>\u6539\u6210\u4F60\u81EA\u5DF1\u7684\u955C\u50CF\u540D\u79F0\u3002</p><h2 id="kubernetes" tabindex="-1"><a class="header-anchor" href="#kubernetes" aria-hidden="true">#</a> Kubernetes</h2><p><code>go-doudou</code>\u5F00\u7BB1\u652F\u6301k8s\u90E8\u7F72\u3002</p><ol><li>\u6267\u884C<code>go-doudou svc push</code>\u547D\u4EE4\u53EF\u4EE5\u6253\u5305\u955C\u50CF\u5E76\u63A8\u9001\u5230\u8FDC\u7A0B\u955C\u50CF\u4ED3\u5E93\uFF0C\u6700\u540E\u751F\u6210\u4E24\u4EFDk8s\u90E8\u7F72\u6587\u4EF6\uFF0C\u4E00\u4E2A\u7528\u4E8E\u90E8\u7F72\u65E0\u72B6\u6001\u670D\u52A1\uFF0C\u4E00\u4E2A\u7528\u4E8E\u90E8\u7F72\u6709\u72B6\u6001\u670D\u52A1\u3002</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc push --pre godoudou_ -r wubin1989</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u53EF\u4EE5\u901A\u8FC7<code>--pre</code>\u53C2\u6570\u8BBE\u7F6E\u955C\u50CF\u540D\u79F0\u524D\u7F00\u3002\u9700\u8981\u5C06<code>wubin1989</code>\u6539\u6210\u4F60\u81EA\u5DF1\u7684\u8FDC\u7A0B\u955C\u50CF\u4ED3\u5E93\u5730\u5740\u3002</p><p>\u6BCF\u6B21\u6267\u884C\u6B64\u547D\u4EE4\u90FD\u4F1A\u81EA\u52A8\u66F4\u65B0\u955C\u50CF\u7684\u7248\u672C\u53F7\uFF0C\u547D\u540D\u89C4\u5219\u4E3A<code>v</code> + <code>yyyyMMddHHmmss</code>\uFF0C\u540C\u65F6\u81EA\u52A8\u66F4\u65B0k8s\u90E8\u7F72\u6587\u4EF6\u91CC\u7684\u955C\u50CF\u540D\u79F0\u3002</p><ol start="2"><li>\u6267\u884C<code>go-doudou svc deploy</code>\u547D\u4EE4\u3002\u6B64\u547D\u4EE4\u9ED8\u8BA4\u91C7\u7528<code>_deployment.yaml</code>\u540E\u7F00\u7684\u6587\u4EF6\u90E8\u7F72\u65E0\u72B6\u6001\u670D\u52A1\u3002\u4F60\u53EF\u4EE5\u901A\u8FC7<code>-k</code>\u53C2\u6570\u8BBE\u7F6E\u5176\u4ED6k8s\u90E8\u7F72\u6587\u4EF6\u8DEF\u5F84\u3002</li></ol>`,17);function V(B,j){const a=o("ExternalLinkIcon");return c(),l(r,null,[t,s("ol",u,[s("li",null,[b,s("a",h,[m,p(a)]),D,_,v,y,k,g,E,x,f,C,S])]),N],64)}var F=d(i,[["render",V]]);export{F as default};
