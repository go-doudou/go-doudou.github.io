import{r as c,o as r,a as i,b as s,e as a,w as l,F as d,f as n,g as p}from"./app.2025f35b.js";import{_ as t}from"./plugin-vue_export-helper.21dcd24c.js";const u={},h=s("h1",{id:"go-doudou-cli\u547D\u4EE4\u884C\u5DE5\u5177\u8BE6\u89E3",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#go-doudou-cli\u547D\u4EE4\u884C\u5DE5\u5177\u8BE6\u89E3","aria-hidden":"true"},"#"),n(" go-doudou CLI\u547D\u4EE4\u884C\u5DE5\u5177\u8BE6\u89E3")],-1),b={class:"table-of-contents"},m=n("\u5B89\u88C5\u4E0E\u5347\u7EA7"),D=n("\u5B89\u88C5go-doudou"),g=n("\u5347\u7EA7go-doudou"),v=n("\u547D\u4EE4\u6982\u89C8"),y=n("completion\u547D\u4EE4\u8BE6\u89E3"),_=n("\u57FA\u672C\u7528\u6CD5"),E=n("\u5B50\u547D\u4EE4"),f=n("\u793A\u4F8B"),k=n("svc\u547D\u4EE4\u8BE6\u89E3"),x=n("svc init"),C=n("svc http"),w=n("svc http client"),q=n("svc http test"),A=n("svc grpc"),S=n("svc crud"),P=n("svc run"),R=n("svc push"),T=n("svc deploy"),G=n("svc shutdown"),O=n("name\u547D\u4EE4\u8BE6\u89E3"),I=n("\u57FA\u672C\u7528\u6CD5"),L=n("\u5E38\u7528\u53C2\u6570"),N=n("\u793A\u4F8B"),U=n("enum\u547D\u4EE4\u8BE6\u89E3"),H=n("\u57FA\u672C\u7528\u6CD5"),J=n("\u5E38\u7528\u53C2\u6570"),j=n("\u793A\u4F8B"),B=n("version\u547D\u4EE4\u8BE6\u89E3"),M=n("\u57FA\u672C\u7528\u6CD5"),V=n("\u793A\u4F8B"),F=n("work\u547D\u4EE4\u8BE6\u89E3"),z=n("\u57FA\u672C\u7528\u6CD5"),K=n("\u5B50\u547D\u4EE4"),Y=n("work init"),Q=n("\u5B9E\u9645\u5E94\u7528\u793A\u4F8B"),W=n("1. \u5FAE\u670D\u52A1\u521D\u59CB\u5316\u4E0E\u5F00\u53D1\u6D41\u7A0B"),X=n("2. \u57FA\u4E8E\u6570\u636E\u5E93\u8868\u7684\u5FAE\u670D\u52A1\u751F\u6210"),Z=n("3. \u4F7F\u7528crud\u547D\u4EE4\u4ECE\u73B0\u6709\u6570\u636E\u5E93\u751F\u6210CRUD\u670D\u52A1"),$=n("4. \u5DE5\u4F5C\u533A\u4E2D\u7684\u6A21\u5757\u5316\u5E94\u7528\u5F00\u53D1"),ss=n("5. \u5B9E\u73B0\u679A\u4E3E\u7C7B\u578B"),ns=n("6. \u751F\u6210\u81EA\u52A8\u5B8C\u6210\u811A\u672C"),as=n("\u9AD8\u7EA7\u7528\u6CD5\u4E0E\u6280\u5DE7"),es=n("1. \u4F7F\u7528\u6CE8\u89E3\u63A7\u5236\u63A5\u53E3\u6743\u9650"),ls=n("2. \u81EA\u5B9A\u4E49protoc\u547D\u4EE4"),os=n("3. \u914D\u7F6E\u73AF\u5883\u53D8\u91CF\u5F71\u54CD\u670D\u52A1\u884C\u4E3A"),cs=n("4. \u96C6\u6210\u6D4B\u8BD5\u6280\u5DE7"),ps=n("5. \u6A21\u5757\u5316\u5E94\u7528\u5F00\u53D1\u6280\u5DE7"),rs=n("\u603B\u7ED3"),is=s("img",{src:"https://images.unsplash.com/photo-1555066931-4365d14bab8c?q=80&w=1740&fm=jpg&fit=crop",alt:"programming.jpg"},null,-1),ds=n(" Photo by "),ts={href:"https://unsplash.com/@cgower?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText",target:"_blank",rel:"noopener noreferrer"},us=n("Christopher Gower"),hs=n(" on "),bs={href:"https://unsplash.com/photos/m_HRfLhgABo?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText",target:"_blank",rel:"noopener noreferrer"},ms=n("Unsplash"),Ds=p(`<p>go-doudou\u662F\u4E00\u4E2A\u5F3A\u5927\u7684Go\u8BED\u8A00\u5FAE\u670D\u52A1\u5F00\u53D1\u6846\u67B6\uFF0C\u5B83\u63D0\u4F9B\u4E86\u4E30\u5BCC\u7684\u547D\u4EE4\u884C\u5DE5\u5177\uFF0C\u5E2E\u52A9\u5F00\u53D1\u8005\u5FEB\u901F\u6784\u5EFA\u3001\u90E8\u7F72\u548C\u7BA1\u7406\u5FAE\u670D\u52A1\u3002\u672C\u6587\u5C06\u8BE6\u7EC6\u4ECB\u7ECDgo-doudou CLI\u5DE5\u5177\u7684\u5404\u79CD\u547D\u4EE4\u548C\u5B50\u547D\u4EE4\u7684\u7528\u6CD5\uFF0C\u5E76\u7ED3\u5408\u5B9E\u9645\u6848\u4F8B\u8FDB\u884C\u8BF4\u660E\u3002</p><h2 id="\u5B89\u88C5\u4E0E\u5347\u7EA7" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u4E0E\u5347\u7EA7" aria-hidden="true">#</a> \u5B89\u88C5\u4E0E\u5347\u7EA7</h2><h3 id="\u5B89\u88C5go-doudou" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5go-doudou" aria-hidden="true">#</a> \u5B89\u88C5go-doudou</h3><p>\u5982\u679CGo\u7248\u672C\u4F4E\u4E8E1.17\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go get -v github.com/unionj-cloud/go-doudou/v2@v2.5.8</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u5982\u679CGo\u7248\u672C &gt;= 1.17\uFF0C\u63A8\u8350\u91C7\u7528\u5982\u4E0B\u547D\u4EE4\u5168\u5C40\u5B89\u88C5<code>go-doudou</code>\u547D\u4EE4\u884C\u5DE5\u5177\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go install -v github.com/unionj-cloud/go-doudou/v2@v2.5.8</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u63A8\u8350\u91C7\u7528\u5982\u4E0B\u547D\u4EE4\u4E0B\u8F7Dgo-doudou\u4F5C\u4E3A\u9879\u76EE\u7684\u4F9D\u8D56\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go get -v -d github.com/unionj-cloud/go-doudou/v2@v2.5.8</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u5982\u679C\u9047\u5230<code>410 Gone error</code>\u62A5\u9519\uFF0C\u8BF7\u5148\u6267\u884C\u5982\u4E0B\u547D\u4EE4\uFF0C\u518D\u6267\u884C\u4E0A\u8FF0\u7684\u5B89\u88C5\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">export</span><span style="color:#D4D4D4;"> GOSUMDB=off</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></div><h3 id="\u5347\u7EA7go-doudou" tabindex="-1"><a class="header-anchor" href="#\u5347\u7EA7go-doudou" aria-hidden="true">#</a> \u5347\u7EA7go-doudou</h3><p>\u6267\u884C<code>go-doudou version</code>\u547D\u4EE4\u53EF\u4EE5\u5347\u7EA7\u5168\u5C40\u5B89\u88C5\u7684go-doudou\u547D\u4EE4\u884C\u5DE5\u5177\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou version</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u5982\u679C\u68C0\u6D4B\u5230\u6709\u65B0\u7248\u672C\uFF0C\u4F1A\u63D0\u793A\u662F\u5426\u5347\u7EA7\uFF0C\u9009\u62E9&quot;Yes&quot;\u540E\u4F1A\u81EA\u52A8\u5B89\u88C5\u6700\u65B0\u7248\u672C\u3002</p><h2 id="\u547D\u4EE4\u6982\u89C8" tabindex="-1"><a class="header-anchor" href="#\u547D\u4EE4\u6982\u89C8" aria-hidden="true">#</a> \u547D\u4EE4\u6982\u89C8</h2><p>go-doudou\u547D\u4EE4\u884C\u5DE5\u5177\u7684\u57FA\u672C\u7528\u6CD5\u5982\u4E0B\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou [flags]</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou [command]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u4E3B\u8981\u547D\u4EE4\u5305\u62EC\uFF1A</p><ul><li><code>svc</code>: \u751F\u6210\u6216\u66F4\u65B0\u670D\u52A1 <ul><li><code>init</code>: \u521D\u59CB\u5316\u65B0\u9879\u76EE</li><li><code>http</code>: \u751F\u6210HTTP\u8DEF\u7531\u548C\u5904\u7406\u7A0B\u5E8F <ul><li><code>client</code>: \u751F\u6210HTTP\u5BA2\u6237\u7AEF\u4EE3\u7801</li><li><code>test</code>: \u751F\u6210\u96C6\u6210\u6D4B\u8BD5\u4EE3\u7801</li></ul></li><li><code>grpc</code>: \u751F\u6210gRPC\u670D\u52A1\u4EE3\u7801</li><li><code>crud</code>: \u4ECE\u6570\u636E\u5E93\u751F\u6210\u901A\u7528CRUD\u4EE3\u7801</li><li><code>run</code>: \u8FD0\u884C\u670D\u52A1</li><li><code>push</code>: \u6784\u5EFADocker\u955C\u50CF\u5E76\u63A8\u9001</li><li><code>deploy</code>: \u5C06\u670D\u52A1\u90E8\u7F72\u5230Kubernetes</li><li><code>shutdown</code>: \u5173\u95ED\u5DF2\u90E8\u7F72\u7684\u670D\u52A1</li></ul></li><li><code>completion</code>: \u4E3A\u6307\u5B9A\u7684shell\u751F\u6210\u81EA\u52A8\u5B8C\u6210\u811A\u672C</li><li><code>ddl</code>: \u6570\u636E\u5E93\u8868\u7ED3\u6784\u4E0EGo\u7ED3\u6784\u4F53\u4E4B\u95F4\u7684\u8FC1\u79FB\u5DE5\u5177</li><li><code>enum</code>: \u4E3A\u5E38\u91CF\u751F\u6210\u679A\u4E3E\u63A5\u53E3\u5B9E\u73B0\u51FD\u6570</li><li><code>name</code>: \u6279\u91CF\u6DFB\u52A0\u6216\u66F4\u65B0\u7ED3\u6784\u4F53\u5B57\u6BB5\u7684JSON\u6807\u7B7E</li><li><code>version</code>: \u663E\u793Ago-doudou\u7684\u7248\u672C\u53F7</li><li><code>work</code>: \u6784\u5EFA\u6A21\u5757\u5316\u5E94\u7528</li></ul><div class="custom-container warning"><p class="custom-container-title">\u6CE8\u610F</p><p>\u867D\u7136\u5728\u5E2E\u52A9\u4FE1\u606F\u4E2D\u53EF\u80FD\u4ECD\u80FD\u770B\u5230 <code>ddl</code> \u547D\u4EE4\uFF0C\u4F46\u8BE5\u547D\u4EE4\u5DF2\u88AB\u5E9F\u5F03\uFF0C\u4E0D\u5EFA\u8BAE\u5728\u65B0\u9879\u76EE\u4E2D\u4F7F\u7528\u3002\u8BF7\u4F7F\u7528 <code>svc crud</code> \u547D\u4EE4\u4EE3\u66FF\u3002</p></div><p>\u53EF\u4EE5\u901A\u8FC7<code>go-doudou -h</code>\u67E5\u770B\u5E2E\u52A9\u4FE1\u606F\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou -h</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u8F93\u51FA\u793A\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou works like a scaffolding tool but more than that. 
it lets api providers design their apis and help them code less. 
it generates openapi 3.0 spec json document for frontend developers or other api consumers to understand what apis there, 
consumers can import it into postman to debug and test, or upload it into some code generators to download client sdk.
it provides some useful components and middleware for constructing microservice cluster like service register and discovering, 
load balancing and so on. it just begins, more features will come out soon.

Usage:
  go-doudou [flags]
  go-doudou [command]

Available Commands:
  completion  Generate the autocompletion script for the specified shell
  enum        Generate functions for constants to implement IEnum interface
  help        Help about any command
  name        bulk add or update json tag of struct fields
  svc         generate or update service
  version     Print the version number of go-doudou
  work        Build modular application

Flags:
  -h, --help      help for go-doudou
  -v, --version   version for go-doudou
</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="completion\u547D\u4EE4\u8BE6\u89E3" tabindex="-1"><a class="header-anchor" href="#completion\u547D\u4EE4\u8BE6\u89E3" aria-hidden="true">#</a> completion\u547D\u4EE4\u8BE6\u89E3</h2><p><code>completion</code>\u547D\u4EE4\u7528\u4E8E\u4E3A\u6307\u5B9A\u7684shell\u751F\u6210\u81EA\u52A8\u5B8C\u6210\u811A\u672C\uFF0C\u63D0\u9AD8go-doudou\u547D\u4EE4\u884C\u7684\u4F7F\u7528\u6548\u7387\u3002</p><h3 id="\u57FA\u672C\u7528\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou completion [command]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="\u5B50\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u5B50\u547D\u4EE4" aria-hidden="true">#</a> \u5B50\u547D\u4EE4</h3><ul><li><code>bash</code>: \u4E3Abash\u751F\u6210\u81EA\u52A8\u5B8C\u6210\u811A\u672C</li><li><code>fish</code>: \u4E3Afish\u751F\u6210\u81EA\u52A8\u5B8C\u6210\u811A\u672C</li><li><code>powershell</code>: \u4E3Apowershell\u751F\u6210\u81EA\u52A8\u5B8C\u6210\u811A\u672C</li><li><code>zsh</code>: \u4E3Azsh\u751F\u6210\u81EA\u52A8\u5B8C\u6210\u811A\u672C</li></ul><h3 id="\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B" aria-hidden="true">#</a> \u793A\u4F8B</h3><p>\u751F\u6210bash\u81EA\u52A8\u5B8C\u6210\u811A\u672C\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou completion bash &gt; ~/.bash_completion</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u751F\u6210zsh\u81EA\u52A8\u5B8C\u6210\u811A\u672C\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou completion zsh &gt; ~/.zsh_completion</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="svc\u547D\u4EE4\u8BE6\u89E3" tabindex="-1"><a class="header-anchor" href="#svc\u547D\u4EE4\u8BE6\u89E3" aria-hidden="true">#</a> svc\u547D\u4EE4\u8BE6\u89E3</h2><p><code>svc</code>\u662Fgo-doudou\u547D\u4EE4\u884C\u5DE5\u5177\u4E2D\u6700\u5E38\u7528\u7684\u547D\u4EE4\uFF0C\u7528\u4E8E\u751F\u6210\u6216\u66F4\u65B0\u670D\u52A1\u76F8\u5173\u7684\u4EE3\u7801\u3002\u5B83\u5305\u542B\u591A\u4E2A\u5B50\u547D\u4EE4\uFF1A</p><h3 id="svc-init" tabindex="-1"><a class="header-anchor" href="#svc-init" aria-hidden="true">#</a> svc init</h3><p><code>svc init</code>\u547D\u4EE4\u7528\u4E8E\u521D\u59CB\u5316\u4E00\u4E2A\u65B0\u7684go-doudou\u5FAE\u670D\u52A1\u9879\u76EE\u3002</p><h4 id="\u57FA\u672C\u7528\u6CD5-1" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5-1" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc init [dir] [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u5176\u4E2D<code>[dir]</code>\u662F\u8981\u521D\u59CB\u5316\u7684\u9879\u76EE\u76EE\u5F55\u540D\u79F0\u3002</p><h4 id="\u5E38\u7528\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u53C2\u6570" aria-hidden="true">#</a> \u5E38\u7528\u53C2\u6570</h4><ul><li><code>-m, --mod</code>: \u6A21\u5757\u540D\u79F0</li><li><code>--module</code>: \u662F\u5426\u521D\u59CB\u5316\u4E3A\u6A21\u5757\u5316\u5E94\u7528\u7684\u7EC4\u4EF6\uFF08\u5E03\u5C14\u503C\uFF09\u3002\u5F53\u8BBE\u7F6E\u4E3A<code>true</code>\u65F6\uFF0Cgo-doudou\u4F1A\u81EA\u52A8\u8C03\u7528<code>go work use</code>\u5C06\u8BE5\u7EC4\u4EF6\u6DFB\u52A0\u5230\u5DE5\u4F5C\u533A\u4E2D\u3002</li><li><code>-f, --file</code>: OpenAPI 3.0\u6216Swagger 2.0\u89C4\u8303\u7684JSON\u6587\u4EF6\u8DEF\u5F84\u6216\u4E0B\u8F7D\u94FE\u63A5</li><li><code>--case</code>: protobuf\u6D88\u606F\u5B57\u6BB5\u548CJSON\u6807\u7B7E\u547D\u540D\u89C4\u5219\uFF0C\u652F\u6301&quot;lowerCamel&quot;\u548C&quot;snake&quot;\uFF08\u9ED8\u8BA4&quot;lowerCamel&quot;\uFF09</li><li><code>-t, --type</code>: \u6307\u5B9A\u9879\u76EE\u7C7B\u578B\uFF0C\u503C\u53EF\u4EE5\u662F&quot;grpc&quot;\u6216&quot;rest&quot;\uFF08\u9ED8\u8BA4&quot;grpc&quot;\uFF09</li><li><code>--grpc_gen_cmd</code>: \u7528\u4E8E\u751F\u6210gRPC\u670D\u52A1\u548C\u6D88\u606F\u4EE3\u7801\u7684\u547D\u4EE4\uFF08\u9ED8\u8BA4\u4F7F\u7528protoc\u547D\u4EE4\uFF09</li></ul><h4 id="\u793A\u4F8B-1" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B-1" aria-hidden="true">#</a> \u793A\u4F8B</h4><p>\u57FA\u672C\u521D\u59CB\u5316\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc init myservice -m github.com/myorg/myservice</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u4F7F\u7528MySQL\u6570\u636E\u5E93\u521D\u59CB\u5316\u5E76\u751F\u6210gRPC\u4EE3\u7801\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc init myservice --db_driver mysql --db_dsn </span><span style="color:#CE9178;">&quot;root:password@tcp(localhost:3306)/mydb?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;</span><span style="color:#D4D4D4;"> --db_soft deleted_at --db_grpc</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u521D\u59CB\u5316\u4E3A\u6A21\u5757\u5316\u5E94\u7528\u7684\u7EC4\u4EF6\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc init component-c -m my-workspace/component-c --module</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u5F53\u4F7F\u7528<code>--module</code>\u6807\u5FD7\u65F6\uFF0Cgo-doudou\u4F1A\u81EA\u52A8\u6267\u884C\u4EE5\u4E0B\u64CD\u4F5C\uFF1A</p><ol><li>\u521B\u5EFA\u5FC5\u8981\u7684\u9879\u76EE\u7ED3\u6784</li><li>\u81EA\u52A8\u8C03\u7528<code>go work use</code>\u5C06\u65B0\u521B\u5EFA\u7684\u7EC4\u4EF6\u6DFB\u52A0\u5230\u5DE5\u4F5C\u533A</li><li>\u4E3A\u6A21\u5757\u5316\u5E94\u7528\u751F\u6210\u63D2\u4EF6\u548C\u5165\u53E3\u4EE3\u7801</li><li>\u66F4\u65B0\u4E3B\u5E94\u7528\u7684\u5BFC\u5165\u8BED\u53E5\uFF0C\u81EA\u52A8\u5F15\u5165\u65B0\u7EC4\u4EF6\u7684\u63D2\u4EF6</li></ol><h3 id="svc-http" tabindex="-1"><a class="header-anchor" href="#svc-http" aria-hidden="true">#</a> svc http</h3><p><code>svc http</code>\u547D\u4EE4\u7528\u4E8E\u751F\u6210HTTP\u8DEF\u7531\u548C\u5904\u7406\u7A0B\u5E8F\u3002</p><h4 id="\u57FA\u672C\u7528\u6CD5-2" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5-2" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc http [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="\u5E38\u7528\u53C2\u6570-1" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u53C2\u6570-1" aria-hidden="true">#</a> \u5E38\u7528\u53C2\u6570</h4><ul><li><code>--handler</code>: \u662F\u5426\u751F\u6210\u9ED8\u8BA4\u5904\u7406\u7A0B\u5E8F\u5B9E\u73B0\uFF08\u5E03\u5C14\u503C\uFF09</li><li><code>-c, --client</code>: \u662F\u5426\u751F\u6210\u9ED8\u8BA4\u7684Go HTTP\u5BA2\u6237\u7AEF\u4EE3\u7801\uFF08\u5E03\u5C14\u503C\uFF09</li><li><code>-o, --omitempty</code>: \u662F\u5426\u5728\u751F\u6210\u7684\u533F\u540D\u7ED3\u6784\u4F53\u4E2D\u7684JSON\u6807\u7B7E\u4E2D\u6DFB\u52A0<code>omitempty</code>\uFF08\u5E03\u5C14\u503C\uFF09</li><li><code>--case</code>: \u5E94\u7528\u4E8E\u751F\u6210\u7684\u5904\u7406\u7A0B\u5E8F\u4E2D\u533F\u540D\u7ED3\u6784\u4F53\u5B57\u6BB5\u7684JSON\u6807\u7B7E\u547D\u540D\u89C4\u5219\uFF0C\u53EF\u9009\u503C\u4E3A&quot;lowerCamel&quot;\u6216&quot;snake&quot;\uFF08\u9ED8\u8BA4&quot;lowerCamel&quot;\uFF09</li><li><code>--doc</code>: \u662F\u5426\u751F\u6210OpenAPI 3.0 JSON\u6587\u6863\uFF08\u5E03\u5C14\u503C\uFF09</li><li><code>-e, --env</code>: \u57FA\u7840URL\u73AF\u5883\u53D8\u91CF\u540D\u79F0</li><li><code>-r, --routePattern</code>: \u8DEF\u7531\u6A21\u5F0F\u751F\u6210\u7B56\u7565\uFF0C0\u8868\u793A\u5C06\u670D\u52A1\u63A5\u53E3\u7684\u6BCF\u4E2A\u65B9\u6CD5\u6309\u659C\u6760/\u62C6\u5206\uFF08\u8F6C\u4E3Asnake_case\u540E\uFF09\uFF0C1\u8868\u793A\u4E0D\u62C6\u5206\uFF0C\u53EA\u8F6C\u5C0F\u5199</li><li><code>--allowGetWithReqBody</code>: \u662F\u5426\u5141\u8BB8GET\u8BF7\u6C42\u5E26\u6709\u8BF7\u6C42\u4F53\uFF08\u5E03\u5C14\u503C\uFF09</li></ul><h4 id="\u793A\u4F8B-2" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B-2" aria-hidden="true">#</a> \u793A\u4F8B</h4><p>\u751F\u6210HTTP\u8DEF\u7531\u548C\u5BA2\u6237\u7AEF\u4EE3\u7801\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc http -c</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u751F\u6210HTTP\u8DEF\u7531\u3001\u5904\u7406\u7A0B\u5E8F\u548COpenAPI\u6587\u6863\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc http --handler --doc</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-http-client" tabindex="-1"><a class="header-anchor" href="#svc-http-client" aria-hidden="true">#</a> svc http client</h3><p><code>svc http client</code>\u662F<code>svc http</code>\u7684\u5B50\u547D\u4EE4\uFF0C\u7528\u4E8E\u4ECEOpenAPI 3.0\u89C4\u8303JSON\u6587\u4EF6\u751F\u6210HTTP\u5BA2\u6237\u7AEF\u4EE3\u7801\u3002</p><h4 id="\u57FA\u672C\u7528\u6CD5-3" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5-3" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc http client [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="\u5E38\u7528\u53C2\u6570-2" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u53C2\u6570-2" aria-hidden="true">#</a> \u5E38\u7528\u53C2\u6570</h4><ul><li><code>-f, --file</code>: OpenAPI 3.0\u6216Swagger 2.0\u89C4\u8303\u7684JSON\u6587\u4EF6\u8DEF\u5F84\u6216\u4E0B\u8F7D\u94FE\u63A5</li><li><code>-e, --env</code>: \u57FA\u7840URL\u73AF\u5883\u53D8\u91CF\u540D\u79F0</li><li><code>-p, --pkg</code>: \u5BA2\u6237\u7AEF\u5305\u540D\u79F0\uFF08\u9ED8\u8BA4&quot;client&quot;\uFF09</li><li><code>-o, --omit</code>: \u662F\u5426\u5728JSON\u6807\u7B7E\u4E2D\u6DFB\u52A0<code>omitempty</code>\uFF08\u5E03\u5C14\u503C\uFF09</li></ul><h4 id="\u793A\u4F8B-3" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B-3" aria-hidden="true">#</a> \u793A\u4F8B</h4><p>\u4ECEOpenAPI\u6587\u6863\u751F\u6210\u5BA2\u6237\u7AEF\u4EE3\u7801\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc http client -f ./api-docs.json -e BASE_URL -p client</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-http-test" tabindex="-1"><a class="header-anchor" href="#svc-http-test" aria-hidden="true">#</a> svc http test</h3><p><code>svc http test</code>\u662F<code>svc http</code>\u7684\u5B50\u547D\u4EE4\uFF0C\u7528\u4E8E\u4ECEPostman Collection\u6587\u4EF6\u751F\u6210\u96C6\u6210\u6D4B\u8BD5\u4EE3\u7801\u3002</p><h4 id="\u57FA\u672C\u7528\u6CD5-4" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5-4" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc http </span><span style="color:#DCDCAA;">test</span><span style="color:#D4D4D4;"> [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="\u5E38\u7528\u53C2\u6570-3" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u53C2\u6570-3" aria-hidden="true">#</a> \u5E38\u7528\u53C2\u6570</h4><ul><li><code>--collection</code>: Postman Collection v2.1\u517C\u5BB9\u6587\u4EF6\u8DEF\u5F84</li><li><code>--dotenv</code>: \u4EC5\u7528\u4E8E\u96C6\u6210\u6D4B\u8BD5\u7684dotenv\u683C\u5F0F\u914D\u7F6E\u6587\u4EF6\u8DEF\u5F84</li></ul><h4 id="\u793A\u4F8B-4" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B-4" aria-hidden="true">#</a> \u793A\u4F8B</h4><p>\u4ECEPostman Collection\u751F\u6210\u6D4B\u8BD5\u4EE3\u7801\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc http </span><span style="color:#DCDCAA;">test</span><span style="color:#D4D4D4;"> --collection ./postman_collection.json --dotenv ./.env.test</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-grpc" tabindex="-1"><a class="header-anchor" href="#svc-grpc" aria-hidden="true">#</a> svc grpc</h3><p><code>svc grpc</code>\u547D\u4EE4\u7528\u4E8E\u751F\u6210gRPC\u670D\u52A1\u4EE3\u7801\u3002</p><h4 id="\u57FA\u672C\u7528\u6CD5-5" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5-5" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="\u5E38\u7528\u53C2\u6570-4" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u53C2\u6570-4" aria-hidden="true">#</a> \u5E38\u7528\u53C2\u6570</h4><ul><li><code>-o, --omitempty</code>: \u662F\u5426\u5728\u751F\u6210\u7684\u533F\u540D\u7ED3\u6784\u4F53\u4E2D\u7684JSON\u6807\u7B7E\u4E2D\u6DFB\u52A0<code>omitempty</code>\uFF08\u5E03\u5C14\u503C\uFF09</li><li><code>--case</code>: protobuf\u6D88\u606F\u5B57\u6BB5\u547D\u540D\u7B56\u7565\uFF0C\u652F\u6301&quot;lowerCamel&quot;\u548C&quot;snake&quot;\uFF08\u9ED8\u8BA4&quot;lowerCamel&quot;\uFF09</li><li><code>--grpc_gen_cmd</code>: \u7528\u4E8E\u751F\u6210gRPC\u670D\u52A1\u548C\u6D88\u606F\u4EE3\u7801\u7684\u547D\u4EE4\uFF08\u9ED8\u8BA4\u4F7F\u7528protoc\u547D\u4EE4\uFF09</li><li><code>--http2grpc</code>: \u662F\u5426\u4E3AgRPC\u670D\u52A1\u751F\u6210RESTful API\uFF08\u5E03\u5C14\u503C\uFF09</li><li><code>--allow_get_body</code>: \u662F\u5426\u5141\u8BB8GET\u8BF7\u6C42\u5E26\u6709\u8BF7\u6C42\u4F53\uFF08\u5E03\u5C14\u503C\uFF09</li><li><code>--annotated_only</code>: \u662F\u5426\u53EA\u4E3A\u5E26\u6709@grpc\u6CE8\u89E3\u7684\u65B9\u6CD5\u751F\u6210gRPC API\uFF08\u5E03\u5C14\u503C\uFF09</li></ul><h4 id="\u793A\u4F8B-5" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B-5" aria-hidden="true">#</a> \u793A\u4F8B</h4><p>\u751F\u6210\u57FA\u672C\u7684gRPC\u670D\u52A1\u4EE3\u7801\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u751F\u6210gRPC\u670D\u52A1\u4EE3\u7801\u5E76\u63D0\u4F9BRESTful API\u4EE3\u7406\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc --http2grpc</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u751F\u6210\u53EA\u5305\u542B\u5E26\u6709@grpc\u6CE8\u89E3\u65B9\u6CD5\u7684gRPC\u670D\u52A1\u4EE3\u7801\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc --annotated_only</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-crud" tabindex="-1"><a class="header-anchor" href="#svc-crud" aria-hidden="true">#</a> svc crud</h3><p><code>svc crud</code>\u547D\u4EE4\u7528\u4E8E\u4ECE\u6570\u636E\u5E93\u751F\u6210\u901A\u7528\u7684CRUD\u4EE3\u7801\u3002\u8FD9\u4E2A\u547D\u4EE4\u662F\u66FF\u4EE3\u5DF2\u5E9F\u5F03\u7684<code>ddl</code>\u547D\u4EE4\u7684\u63A8\u8350\u9009\u62E9\u3002</p><h4 id="\u57FA\u672C\u7528\u6CD5-6" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5-6" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc crud [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="\u5E38\u7528\u53C2\u6570-5" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u53C2\u6570-5" aria-hidden="true">#</a> \u5E38\u7528\u53C2\u6570</h4><ul><li><code>--db_orm</code>: \u6307\u5B9AORM\uFF0C\u76EE\u524D\u4EC5\u652F\u6301gorm\uFF08\u9ED8\u8BA4&quot;gorm&quot;\uFF09</li><li><code>--db_driver</code>: \u6570\u636E\u5E93\u9A71\u52A8\u7C7B\u578B\uFF0C\u9009\u9879\u6709&quot;mysql&quot;\u3001&quot;postgres&quot;\u3001&quot;sqlite&quot;\u3001&quot;sqlserver&quot;\u3001&quot;tidb&quot;</li><li><code>--db_dsn</code>: \u6570\u636E\u5E93\u8FDE\u63A5URL</li><li><code>--db_soft</code>: \u6570\u636E\u5E93\u8F6F\u5220\u9664\u5217\u540D\uFF08\u9ED8\u8BA4&quot;deleted_at&quot;\uFF09</li><li><code>--db_service</code>: \u751F\u6210gRPC\u6216REST\u670D\u52A1\uFF0C\u63A5\u53D7\u503C\uFF1Agrpc\u6216rest</li><li><code>--db_gen_gen</code>: \u662F\u5426\u751F\u6210gen.go\u6587\u4EF6\uFF08\u5E03\u5C14\u503C\uFF09</li><li><code>--db_table_prefix</code>: \u8868\u524D\u7F00\u6216PostgreSQL\u7684schema\u540D\u79F0</li><li><code>--db_table_glob</code>: \u7528\u4E8E\u8FC7\u6EE4glob\u5339\u914D\u7684\u8868</li><li><code>--db_table_exclude_glob</code>: \u7528\u4E8E\u6392\u9664glob\u5339\u914D\u7684\u8868</li><li><code>--case</code>: protobuf\u6D88\u606F\u5B57\u6BB5\u548CJSON\u6807\u7B7E\u547D\u540D\u89C4\u5219\uFF0C\u652F\u6301&quot;lowerCamel&quot;\u548C&quot;snake&quot;\uFF08\u9ED8\u8BA4&quot;lowerCamel&quot;\uFF09</li><li><code>--db_type_mapping</code>: \u6307\u5B9A\u81EA\u5B9A\u4E49\u7684\u5217\u7C7B\u578B\u5230Go\u7C7B\u578B\u7684\u6620\u5C04</li><li><code>--db_omitempty</code>: \u662F\u5426\u5728\u751F\u6210\u7684\u6A21\u578B\u5B57\u6BB5\u7684JSON\u6807\u7B7E\u4E2D\u6DFB\u52A0<code>omitempty</code>\uFF08\u5E03\u5C14\u503C\uFF09</li><li><code>--grpc_gen_cmd</code>: \u7528\u4E8E\u751F\u6210gRPC\u670D\u52A1\u548C\u6D88\u606F\u4EE3\u7801\u7684\u547D\u4EE4\uFF08\u9ED8\u8BA4\u4F7F\u7528protoc\u547D\u4EE4\uFF09</li></ul><h4 id="\u793A\u4F8B-6" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B-6" aria-hidden="true">#</a> \u793A\u4F8B</h4><p>\u4ECEMySQL\u6570\u636E\u5E93\u751F\u6210CRUD\u4EE3\u7801\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc crud --db_driver mysql --db_dsn </span><span style="color:#CE9178;">&quot;root:password@tcp(localhost:3306)/mydb?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;</span><span style="color:#D4D4D4;"> --db_soft deleted_at --db_service rest</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u4ECEPostgreSQL\u6570\u636E\u5E93\u751F\u6210CRUD\u4EE3\u7801\uFF0C\u5E76\u6307\u5B9Aschema\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc crud --db_driver postgres --db_dsn </span><span style="color:#CE9178;">&quot;host=localhost user=postgres password=postgres dbname=mydb port=5432 sslmode=disable&quot;</span><span style="color:#D4D4D4;"> --db_table_prefix public --db_service grpc</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u4EC5\u751F\u6210\u7279\u5B9A\u8868\u7684CRUD\u4EE3\u7801\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc crud --db_driver mysql --db_dsn </span><span style="color:#CE9178;">&quot;root:password@tcp(localhost:3306)/mydb&quot;</span><span style="color:#D4D4D4;"> --db_table_glob </span><span style="color:#CE9178;">&quot;user_*&quot;</span><span style="color:#D4D4D4;"> --db_service rest</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-run" tabindex="-1"><a class="header-anchor" href="#svc-run" aria-hidden="true">#</a> svc run</h3><p><code>svc run</code>\u547D\u4EE4\u7528\u4E8E\u8FD0\u884Cgo-doudou\u670D\u52A1\u3002</p><h4 id="\u57FA\u672C\u7528\u6CD5-7" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5-7" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc run [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="\u5E38\u7528\u53C2\u6570-6" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u53C2\u6570-6" aria-hidden="true">#</a> \u5E38\u7528\u53C2\u6570</h4><ul><li><code>-w, --watch</code>: \u542F\u7528\u76D1\u89C6\u6A21\u5F0F\uFF0C\u6587\u4EF6\u53D8\u66F4\u65F6\u81EA\u52A8\u91CD\u542F\u670D\u52A1\uFF08\u5E03\u5C14\u503C\uFF09</li></ul><h4 id="\u793A\u4F8B-7" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B-7" aria-hidden="true">#</a> \u793A\u4F8B</h4><p>\u542F\u52A8\u670D\u52A1\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc run</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u542F\u7528\u76D1\u89C6\u6A21\u5F0F\u542F\u52A8\u670D\u52A1\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc run -w</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-push" tabindex="-1"><a class="header-anchor" href="#svc-push" aria-hidden="true">#</a> svc push</h3><p><code>svc push</code>\u547D\u4EE4\u7528\u4E8E\u6784\u5EFADocker\u955C\u50CF\u5E76\u63A8\u9001\u5230\u955C\u50CF\u4ED3\u5E93\uFF0C\u540C\u65F6\u751F\u6210\u6216\u66F4\u65B0K8s\u90E8\u7F72YAML\u6587\u4EF6\u3002</p><h4 id="\u57FA\u672C\u7528\u6CD5-8" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5-8" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc push [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="\u5E38\u7528\u53C2\u6570-7" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u53C2\u6570-7" aria-hidden="true">#</a> \u5E38\u7528\u53C2\u6570</h4><ul><li><code>-r, --repo</code>: \u79C1\u6709Docker\u955C\u50CF\u4ED3\u5E93</li><li><code>--pre</code>: \u7528\u4E8E\u6784\u5EFA\u548C\u63A8\u9001Docker\u955C\u50CF\u7684\u955C\u50CF\u540D\u79F0\u524D\u7F00</li><li><code>--ver</code>: Docker\u955C\u50CF\u7248\u672C</li></ul><h4 id="\u793A\u4F8B-8" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B-8" aria-hidden="true">#</a> \u793A\u4F8B</h4><p>\u6784\u5EFA\u955C\u50CF\u5E76\u63A8\u9001\u5230\u79C1\u6709\u4ED3\u5E93\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc push -r myregistry.com/myuser</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u6307\u5B9A\u7248\u672C\u6807\u7B7E\u6784\u5EFA\u955C\u50CF\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc push -r myregistry.com/myuser --ver v1.0.0</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-deploy" tabindex="-1"><a class="header-anchor" href="#svc-deploy" aria-hidden="true">#</a> svc deploy</h3><p><code>svc deploy</code>\u547D\u4EE4\u5305\u88C5kubectl apply\u547D\u4EE4\uFF0C\u7528\u4E8E\u5C06\u670D\u52A1\u90E8\u7F72\u5230Kubernetes\u96C6\u7FA4\u3002</p><h4 id="\u57FA\u672C\u7528\u6CD5-9" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5-9" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc deploy [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="\u5E38\u7528\u53C2\u6570-8" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u53C2\u6570-8" aria-hidden="true">#</a> \u5E38\u7528\u53C2\u6570</h4><ul><li><code>-k, --k8sfile</code>: \u7528\u4E8E\u90E8\u7F72\u670D\u52A1\u7684Kubernetes YAML\u6587\u4EF6</li></ul><h4 id="\u793A\u4F8B-9" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B-9" aria-hidden="true">#</a> \u793A\u4F8B</h4><p>\u4F7F\u7528\u9ED8\u8BA4\u914D\u7F6E\u90E8\u7F72\u670D\u52A1\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc deploy</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u4F7F\u7528\u6307\u5B9A\u7684Kubernetes\u914D\u7F6E\u6587\u4EF6\u90E8\u7F72\u670D\u52A1\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc deploy -k myservice_deployment.yaml</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="svc-shutdown" tabindex="-1"><a class="header-anchor" href="#svc-shutdown" aria-hidden="true">#</a> svc shutdown</h3><p><code>svc shutdown</code>\u547D\u4EE4\u5305\u88C5kubectl delete\u547D\u4EE4\uFF0C\u7528\u4E8E\u5173\u95ED\u5DF2\u90E8\u7F72\u7684\u670D\u52A1\u3002</p><h4 id="\u57FA\u672C\u7528\u6CD5-10" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5-10" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc shutdown [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="\u5E38\u7528\u53C2\u6570-9" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u53C2\u6570-9" aria-hidden="true">#</a> \u5E38\u7528\u53C2\u6570</h4><ul><li><code>-k, --k8sfile</code>: \u7528\u4E8E\u90E8\u7F72\u670D\u52A1\u7684Kubernetes YAML\u6587\u4EF6</li></ul><h4 id="\u793A\u4F8B-10" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B-10" aria-hidden="true">#</a> \u793A\u4F8B</h4><p>\u5173\u95ED\u9ED8\u8BA4\u90E8\u7F72\u7684\u670D\u52A1\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc shutdown</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u4F7F\u7528\u6307\u5B9A\u7684Kubernetes\u914D\u7F6E\u6587\u4EF6\u5173\u95ED\u670D\u52A1\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc shutdown -k myservice_deployment.yaml</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="name\u547D\u4EE4\u8BE6\u89E3" tabindex="-1"><a class="header-anchor" href="#name\u547D\u4EE4\u8BE6\u89E3" aria-hidden="true">#</a> name\u547D\u4EE4\u8BE6\u89E3</h2><p><code>name</code>\u547D\u4EE4\u7528\u4E8E\u6279\u91CF\u6DFB\u52A0\u6216\u66F4\u65B0\u7ED3\u6784\u4F53\u5B57\u6BB5\u7684JSON\u6807\u7B7E\u3002</p><h3 id="\u57FA\u672C\u7528\u6CD5-11" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5-11" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou name [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="\u5E38\u7528\u53C2\u6570-10" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u53C2\u6570-10" aria-hidden="true">#</a> \u5E38\u7528\u53C2\u6570</h3>`,157),gs=s("li",null,[s("code",null,"-f, --file"),n(": Go\u6E90\u6587\u4EF6\u8DEF\u5F84")],-1),vs=s("li",null,[s("code",null,"-c, --case"),n(': JSON\u6807\u7B7E\u547D\u540D\u89C4\u5219\uFF0C\u652F\u6301"lowerCamel"\u3001"snake"\u7B49\uFF08\u9ED8\u8BA4"lowerCamel"\uFF09')],-1),ys=s("li",null,[s("code",null,"-s, --strategy"),n(': \u547D\u540D\u7B56\u7565\u540D\u79F0\uFF0C\u5F53\u524D\u4EC5\u652F\u6301"lowerCamel"\u548C"snake"\uFF08\u9ED8\u8BA4"lowerCamel"\uFF09')],-1),_s=s("li",null,[s("code",null,"-o, --omitempty"),n(": \u662F\u5426\u6DFB\u52A0"),s("code",null,"omitempty"),n("\u6807\u8BB0\uFF08\u5E03\u5C14\u503C\uFF09")],-1),Es=s("code",null,"--form",-1),fs=n(": \u662F\u5426\u4E3A"),ks={href:"https://github.com/go-playground/form",target:"_blank",rel:"noopener noreferrer"},xs=n("github.com/go-playground/form"),Cs=n("\u6DFB\u52A0form\u6807\u7B7E"),ws=p(`<h3 id="\u793A\u4F8B-11" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B-11" aria-hidden="true">#</a> \u793A\u4F8B</h3><p>\u4E3AUser\u7ED3\u6784\u4F53\u7684\u5B57\u6BB5\u6DFB\u52A0snake_case\u5F62\u5F0F\u7684JSON\u6807\u7B7E\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou name -f ./model/user.go -c snake -o</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u540C\u65F6\u751F\u6210JSON\u548Cform\u6807\u7B7E\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou name -f ./model/user.go -c lowerCamel -o --form</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="enum\u547D\u4EE4\u8BE6\u89E3" tabindex="-1"><a class="header-anchor" href="#enum\u547D\u4EE4\u8BE6\u89E3" aria-hidden="true">#</a> enum\u547D\u4EE4\u8BE6\u89E3</h2><p><code>enum</code>\u547D\u4EE4\u7528\u4E8E\u4E3A\u5E38\u91CF\u751F\u6210\u5B9E\u73B0<code>IEnum</code>\u63A5\u53E3\u7684\u51FD\u6570\u3002\u8FD9\u5BF9\u4E8E\u5728Go\u4E2D\u4F7F\u7528\u679A\u4E3E\u7C7B\u578B\u975E\u5E38\u6709\u7528\u3002</p><h3 id="\u57FA\u672C\u7528\u6CD5-12" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5-12" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou enum [flags]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="\u5E38\u7528\u53C2\u6570-11" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u53C2\u6570-11" aria-hidden="true">#</a> \u5E38\u7528\u53C2\u6570</h3><ul><li><code>-f, --file</code>: Go\u6E90\u6587\u4EF6\u7684\u7EDD\u5BF9\u8DEF\u5F84</li></ul><h3 id="\u793A\u4F8B-12" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B-12" aria-hidden="true">#</a> \u793A\u4F8B</h3><p>\u4E3A\u5305\u542B\u5E38\u91CF\u5B9A\u4E49\u7684\u6587\u4EF6\u751F\u6210\u679A\u4E3E\u63A5\u53E3\u5B9E\u73B0\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou enum -f ./enum/status.go</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u751F\u6210\u7684\u4EE3\u7801\u793A\u4F8B\uFF08\u5047\u8BBEstatus.go\u4E2D\u5B9A\u4E49\u4E86Status\u7C7B\u578B\u7684\u5E38\u91CF\uFF09\uFF1A</p><div class="language-go ext-go line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;">// \u539F\u59CB\u6587\u4EF6</span></span>
<span class="line"><span style="color:#569CD6;">type</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">Status</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">int</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;">    StatusPending </span><span style="color:#9CDCFE;">Status</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">iota</span></span>
<span class="line"><span style="color:#D4D4D4;">    StatusActive</span></span>
<span class="line"><span style="color:#D4D4D4;">    StatusInactive</span></span>
<span class="line"><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">// \u751F\u6210\u7684\u51FD\u6570</span></span>
<span class="line"><span style="color:#569CD6;">func</span><span style="color:#D4D4D4;"> (s *Status) </span><span style="color:#DCDCAA;">StringSetter</span><span style="color:#D4D4D4;">(value </span><span style="color:#4EC9B0;">string</span><span style="color:#D4D4D4;">) {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">switch</span><span style="color:#D4D4D4;"> value {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">case</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;StatusPending&quot;</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">        *</span><span style="color:#9CDCFE;">s</span><span style="color:#D4D4D4;"> = StatusPending</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">case</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;StatusActive&quot;</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">        *</span><span style="color:#9CDCFE;">s</span><span style="color:#D4D4D4;"> = StatusActive</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">case</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;StatusInactive&quot;</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">        *</span><span style="color:#9CDCFE;">s</span><span style="color:#D4D4D4;"> = StatusInactive</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">default</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">        *</span><span style="color:#9CDCFE;">s</span><span style="color:#D4D4D4;"> = StatusPending</span></span>
<span class="line"><span style="color:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">func</span><span style="color:#D4D4D4;"> (s *Status) </span><span style="color:#DCDCAA;">StringGetter</span><span style="color:#D4D4D4;">() </span><span style="color:#4EC9B0;">string</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">switch</span><span style="color:#D4D4D4;"> *s {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">case</span><span style="color:#D4D4D4;"> StatusPending:</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;StatusPending&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">case</span><span style="color:#D4D4D4;"> StatusActive:</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;StatusActive&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">case</span><span style="color:#D4D4D4;"> StatusInactive:</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;StatusInactive&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">default</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;StatusPending&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="version\u547D\u4EE4\u8BE6\u89E3" tabindex="-1"><a class="header-anchor" href="#version\u547D\u4EE4\u8BE6\u89E3" aria-hidden="true">#</a> version\u547D\u4EE4\u8BE6\u89E3</h2><p><code>version</code>\u547D\u4EE4\u7528\u4E8E\u663E\u793Ago-doudou\u7684\u7248\u672C\u53F7\uFF0C\u5E76\u68C0\u67E5\u662F\u5426\u6709\u65B0\u7248\u672C\u53EF\u7528\u3002</p><h3 id="\u57FA\u672C\u7528\u6CD5-13" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5-13" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou version</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="\u793A\u4F8B-13" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B-13" aria-hidden="true">#</a> \u793A\u4F8B</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou version</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u8F93\u51FA\u793A\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou version v2.5.8
</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u5982\u679C\u68C0\u6D4B\u5230\u6709\u66F4\u65B0\u7248\u672C\uFF0C\u4F1A\u63D0\u793A\u662F\u5426\u5347\u7EA7\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">A new version is available: v2.5.9
Do you want to upgrade? [Y/n]
</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="work\u547D\u4EE4\u8BE6\u89E3" tabindex="-1"><a class="header-anchor" href="#work\u547D\u4EE4\u8BE6\u89E3" aria-hidden="true">#</a> work\u547D\u4EE4\u8BE6\u89E3</h2><p><code>work</code>\u547D\u4EE4\u7528\u4E8E\u6784\u5EFA\u6A21\u5757\u5316\u5E94\u7528\u7A0B\u5E8F\uFF0C\u5B83\u4F1A\u521B\u5EFA\u4E00\u4E2A\u5E26\u6709\u5DE5\u4F5C\u533A\u548C\u4E3B\u5165\u53E3\u6A21\u5757\u7684\u9879\u76EE\u7ED3\u6784\u3002</p><h3 id="\u57FA\u672C\u7528\u6CD5-14" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5-14" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou work [flags]</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou work [command]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="\u5B50\u547D\u4EE4-1" tabindex="-1"><a class="header-anchor" href="#\u5B50\u547D\u4EE4-1" aria-hidden="true">#</a> \u5B50\u547D\u4EE4</h3><ul><li><code>init</code>: \u521D\u59CB\u5316\u5DE5\u4F5C\u533A\u6587\u4EF6\u5939</li></ul><h3 id="work-init" tabindex="-1"><a class="header-anchor" href="#work-init" aria-hidden="true">#</a> work init</h3><p><code>work init</code>\u547D\u4EE4\u7528\u4E8E\u521D\u59CB\u5316\u4E00\u4E2A\u5DE5\u4F5C\u533A\u6587\u4EF6\u5939\uFF0C\u7528\u4E8E\u5F00\u53D1\u6A21\u5757\u5316\u5E94\u7528\u3002</p><h4 id="\u57FA\u672C\u7528\u6CD5-15" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5-15" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou work init [dir]</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u5176\u4E2D<code>[dir]</code>\u662F\u8981\u521D\u59CB\u5316\u7684\u5DE5\u4F5C\u533A\u76EE\u5F55\u8DEF\u5F84\u3002\u5982\u679C\u4E0D\u6307\u5B9A\uFF0C\u5219\u4F7F\u7528\u5F53\u524D\u76EE\u5F55\u3002</p><h4 id="\u5DE5\u4F5C\u533A\u7ED3\u6784" tabindex="-1"><a class="header-anchor" href="#\u5DE5\u4F5C\u533A\u7ED3\u6784" aria-hidden="true">#</a> \u5DE5\u4F5C\u533A\u7ED3\u6784</h4><p>\u6267\u884C<code>work init</code>\u547D\u4EE4\u540E\uFF0Cgo-doudou\u4F1A\u521B\u5EFA\u5982\u4E0B\u7684\u5DE5\u4F5C\u533A\u7ED3\u6784\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">workspace/              # \u5DE5\u4F5C\u533A\u6839\u76EE\u5F55
\u251C\u2500\u2500 go.work             # Go\u5DE5\u4F5C\u533A\u6587\u4EF6\uFF0C\u81EA\u52A8\u5305\u542Bmain\u6A21\u5757\u548C\u5176\u4ED6\u7EC4\u4EF6
\u2514\u2500\u2500 main/               # \u4E3B\u5165\u53E3\u6A21\u5757\u76EE\u5F55
    \u251C\u2500\u2500 go.mod          # \u4E3B\u6A21\u5757\u7684go.mod\u6587\u4EF6
    \u251C\u2500\u2500 .env            # \u73AF\u5883\u53D8\u91CF\u914D\u7F6E\u6587\u4EF6
    \u2514\u2500\u2500 cmd/            # \u547D\u4EE4\u76EE\u5F55
        \u2514\u2500\u2500 main.go     # \u4E3B\u5165\u53E3\u6587\u4EF6\uFF0C\u8D1F\u8D23\u52A0\u8F7D\u548C\u8FD0\u884C\u6240\u6709\u7EC4\u4EF6
</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u5F53\u4F7F\u7528 <code>svc init --module</code> \u6DFB\u52A0\u7EC4\u4EF6\u65F6\uFF0Cgo-doudou\u4F1A\u81EA\u52A8\u8C03\u7528 <code>go work use</code> \u547D\u4EE4\u5C06\u65B0\u7EC4\u4EF6\u6DFB\u52A0\u5230\u5DE5\u4F5C\u533A\uFF0C\u5E76\u81EA\u52A8\u66F4\u65B0 <code>main/cmd/main.go</code> \u6587\u4EF6\u4EE5\u5BFC\u5165\u65B0\u7EC4\u4EF6\u7684\u63D2\u4EF6\u3002</p><h4 id="\u793A\u4F8B-14" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B-14" aria-hidden="true">#</a> \u793A\u4F8B</h4><p>\u521D\u59CB\u5316\u5F53\u524D\u76EE\u5F55\u4F5C\u4E3A\u5DE5\u4F5C\u533A\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou work init</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u6307\u5B9A\u76EE\u5F55\u4F5C\u4E3A\u5DE5\u4F5C\u533A\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou work init ./my-workspace</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="\u5B9E\u9645\u5E94\u7528\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u9645\u5E94\u7528\u793A\u4F8B" aria-hidden="true">#</a> \u5B9E\u9645\u5E94\u7528\u793A\u4F8B</h2><h3 id="_1-\u5FAE\u670D\u52A1\u521D\u59CB\u5316\u4E0E\u5F00\u53D1\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#_1-\u5FAE\u670D\u52A1\u521D\u59CB\u5316\u4E0E\u5F00\u53D1\u6D41\u7A0B" aria-hidden="true">#</a> 1. \u5FAE\u670D\u52A1\u521D\u59CB\u5316\u4E0E\u5F00\u53D1\u6D41\u7A0B</h3><p>\u4E0B\u9762\u662F\u4E00\u4E2A\u5B8C\u6574\u7684\u5FAE\u670D\u52A1\u5F00\u53D1\u6D41\u7A0B\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># \u6B65\u9AA41: \u521D\u59CB\u5316\u9879\u76EE</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc init myservice -m github.com/myorg/myservice</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># \u6B65\u9AA42: \u7F16\u8F91svc.go\u6587\u4EF6\uFF0C\u5B9A\u4E49\u670D\u52A1\u63A5\u53E3</span></span>
<span class="line"><span style="color:#6A9955;"># \u5728myservice/svc.go\u4E2D\u5B9A\u4E49\u670D\u52A1\u63A5\u53E3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># \u6B65\u9AA43: \u751F\u6210HTTP\u548CgRPC\u670D\u52A1\u4EE3\u7801</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> myservice</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc http -c --doc</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># \u6B65\u9AA44: \u5B9E\u73B0\u4E1A\u52A1\u903B\u8F91</span></span>
<span class="line"><span style="color:#6A9955;"># \u7F16\u8F91svcimpl.go\u6587\u4EF6</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># \u6B65\u9AA45: \u8FD0\u884C\u670D\u52A1</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc run</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># \u6B65\u9AA46: \u6784\u5EFA\u955C\u50CF\u5E76\u90E8\u7F72</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc push -r myregistry.com/myuser</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc deploy</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_2-\u57FA\u4E8E\u6570\u636E\u5E93\u8868\u7684\u5FAE\u670D\u52A1\u751F\u6210" tabindex="-1"><a class="header-anchor" href="#_2-\u57FA\u4E8E\u6570\u636E\u5E93\u8868\u7684\u5FAE\u670D\u52A1\u751F\u6210" aria-hidden="true">#</a> 2. \u57FA\u4E8E\u6570\u636E\u5E93\u8868\u7684\u5FAE\u670D\u52A1\u751F\u6210</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># \u6B65\u9AA41: \u521D\u59CB\u5316\u5E26\u6570\u636E\u5E93\u652F\u6301\u7684\u9879\u76EE</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc init dbservice -m github.com/myorg/dbservice --db_driver mysql --db_dsn </span><span style="color:#CE9178;">&quot;root:password@tcp(localhost:3306)/mydb?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;</span><span style="color:#D4D4D4;"> --db_soft deleted_at --db_grpc --db_rest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># \u6B65\u9AA42: \u8FD0\u884C\u670D\u52A1</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> dbservice</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc run</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_3-\u4F7F\u7528crud\u547D\u4EE4\u4ECE\u73B0\u6709\u6570\u636E\u5E93\u751F\u6210crud\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#_3-\u4F7F\u7528crud\u547D\u4EE4\u4ECE\u73B0\u6709\u6570\u636E\u5E93\u751F\u6210crud\u670D\u52A1" aria-hidden="true">#</a> 3. \u4F7F\u7528crud\u547D\u4EE4\u4ECE\u73B0\u6709\u6570\u636E\u5E93\u751F\u6210CRUD\u670D\u52A1</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># \u6B65\u9AA41: \u5728\u73B0\u6709\u9879\u76EE\u76EE\u5F55\u4E2D\u8FD0\u884C\u547D\u4EE4</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> myproject</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc crud --db_driver postgres --db_dsn </span><span style="color:#CE9178;">&quot;host=localhost user=postgres password=postgres dbname=mydb&quot;</span><span style="color:#D4D4D4;"> --db_service rest --db_soft deleted_at</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># \u6B65\u9AA42: \u8FD0\u884C\u751F\u6210\u7684\u670D\u52A1</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc run</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_4-\u5DE5\u4F5C\u533A\u4E2D\u7684\u6A21\u5757\u5316\u5E94\u7528\u5F00\u53D1" tabindex="-1"><a class="header-anchor" href="#_4-\u5DE5\u4F5C\u533A\u4E2D\u7684\u6A21\u5757\u5316\u5E94\u7528\u5F00\u53D1" aria-hidden="true">#</a> 4. \u5DE5\u4F5C\u533A\u4E2D\u7684\u6A21\u5757\u5316\u5E94\u7528\u5F00\u53D1</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># \u6B65\u9AA41: \u521D\u59CB\u5316\u5DE5\u4F5C\u533A</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou work init my-workspace</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> my-workspace</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># \u6B65\u9AA42: \u521D\u59CB\u5316\u6A21\u5757\u5316\u7EC4\u4EF6</span></span>
<span class="line"><span style="color:#6A9955;"># go-doudou\u4F1A\u81EA\u52A8\u6267\u884C&quot;go work use&quot;\u5C06\u7EC4\u4EF6\u6DFB\u52A0\u5230\u5DE5\u4F5C\u533A</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc init component-a -m my-workspace/component-a --module</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc init component-b -m my-workspace/component-b --module</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># \u6B65\u9AA43: \u5728\u6BCF\u4E2A\u7EC4\u4EF6\u4E2D\u5B9A\u4E49\u670D\u52A1\u63A5\u53E3\u5E76\u751F\u6210\u4EE3\u7801</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> component-a</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc http -c</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> ../component-b</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc http -c</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># \u6B65\u9AA44: \u542F\u52A8\u4E3B\u5E94\u7528 - main\u6A21\u5757\u4F1A\u81EA\u52A8\u5F15\u5165\u6240\u6709\u7EC4\u4EF6</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> ../main</span></span>
<span class="line"><span style="color:#D4D4D4;">go run cmd/main.go</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>\u6A21\u5757\u5316\u5E94\u7528\u7684\u5DE5\u4F5C\u539F\u7406\uFF1A</p><ul><li>\u6BCF\u4E2A\u7EC4\u4EF6\u5728\u521D\u59CB\u5316\u65F6\u4F1A\u751F\u6210\u4E00\u4E2A<code>plugin</code>\u5305\uFF0C\u7528\u4E8E\u5C06\u81EA\u8EAB\u6CE8\u518C\u5230\u4E3B\u5E94\u7528</li><li>\u4E3B\u5E94\u7528(<code>main</code>\u6A21\u5757)\u4F1A\u81EA\u52A8\u5BFC\u5165\u6240\u6709\u7EC4\u4EF6\u7684\u63D2\u4EF6\uFF0C\u5E76\u5728\u8FD0\u884C\u65F6\u521D\u59CB\u5316\u5B83\u4EEC</li><li>\u5F53\u8C03\u7528<code>svc init --module</code>\u65F6\uFF0Cgo-doudou\u4F1A\u81EA\u52A8\u6267\u884C<code>go work use</code>\u5C06\u65B0\u7EC4\u4EF6\u6DFB\u52A0\u5230\u5DE5\u4F5C\u533A</li><li>\u540C\u65F6\u4F1A\u66F4\u65B0<code>main/cmd/main.go</code>\u6587\u4EF6\uFF0C\u6DFB\u52A0\u65B0\u7EC4\u4EF6\u63D2\u4EF6\u7684\u5BFC\u5165\u8BED\u53E5</li></ul><h3 id="_5-\u5B9E\u73B0\u679A\u4E3E\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#_5-\u5B9E\u73B0\u679A\u4E3E\u7C7B\u578B" aria-hidden="true">#</a> 5. \u5B9E\u73B0\u679A\u4E3E\u7C7B\u578B</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># \u6B65\u9AA41: \u5B9A\u4E49\u679A\u4E3E\u5E38\u91CF</span></span>
<span class="line"><span style="color:#6A9955;"># \u5728status.go\u6587\u4EF6\u4E2D\u5B9A\u4E49\u5982\u4E0B\u5185\u5BB9</span></span>
<span class="line"><span style="color:#DCDCAA;">type</span><span style="color:#D4D4D4;"> Status int</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">const (</span></span>
<span class="line"><span style="color:#D4D4D4;">    StatusPending Status = iota</span></span>
<span class="line"><span style="color:#D4D4D4;">    StatusActive</span></span>
<span class="line"><span style="color:#D4D4D4;">    StatusInactive</span></span>
<span class="line"><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># \u6B65\u9AA42: \u751F\u6210\u679A\u4E3E\u63A5\u53E3\u5B9E\u73B0</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou enum -f ./model/status.go</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_6-\u751F\u6210\u81EA\u52A8\u5B8C\u6210\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#_6-\u751F\u6210\u81EA\u52A8\u5B8C\u6210\u811A\u672C" aria-hidden="true">#</a> 6. \u751F\u6210\u81EA\u52A8\u5B8C\u6210\u811A\u672C</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># \u751F\u6210bash\u81EA\u52A8\u5B8C\u6210\u811A\u672C</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou completion bash &gt; ~/.bash_completion</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># \u751F\u6210zsh\u81EA\u52A8\u5B8C\u6210\u811A\u672C</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou completion zsh &gt; ~/.zsh_completion</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="\u9AD8\u7EA7\u7528\u6CD5\u4E0E\u6280\u5DE7" tabindex="-1"><a class="header-anchor" href="#\u9AD8\u7EA7\u7528\u6CD5\u4E0E\u6280\u5DE7" aria-hidden="true">#</a> \u9AD8\u7EA7\u7528\u6CD5\u4E0E\u6280\u5DE7</h2><h3 id="_1-\u4F7F\u7528\u6CE8\u89E3\u63A7\u5236\u63A5\u53E3\u6743\u9650" tabindex="-1"><a class="header-anchor" href="#_1-\u4F7F\u7528\u6CE8\u89E3\u63A7\u5236\u63A5\u53E3\u6743\u9650" aria-hidden="true">#</a> 1. \u4F7F\u7528\u6CE8\u89E3\u63A7\u5236\u63A5\u53E3\u6743\u9650</h3><p>\u5728service\u63A5\u53E3\u4E2D\uFF0C\u53EF\u4EE5\u4F7F\u7528\u7279\u6B8A\u6CE8\u91CA\u6DFB\u52A0\u6CE8\u89E3\uFF0C\u5982\uFF1A</p><div class="language-go ext-go line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;">// @role(ADMIN)</span></span>
<span class="line"><span style="color:#DCDCAA;">GetAdminData</span><span style="color:#D4D4D4;">(ctx context.Context) (data </span><span style="color:#4EC9B0;">string</span><span style="color:#D4D4D4;">, err </span><span style="color:#4EC9B0;">error</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u7136\u540E\u5728\u4E2D\u95F4\u4EF6\u4E2D\u68C0\u67E5\u8FD9\u4E9B\u6CE8\u89E3\uFF1A</p><div class="language-go ext-go line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#9CDCFE;">annotations</span><span style="color:#D4D4D4;"> := httpsrv.RouteAnnotationStore.</span><span style="color:#DCDCAA;">GetParams</span><span style="color:#D4D4D4;">(routeName, </span><span style="color:#CE9178;">&quot;@role&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#C586C0;">if</span><span style="color:#D4D4D4;"> !sliceutils.</span><span style="color:#DCDCAA;">StringContains</span><span style="color:#D4D4D4;">(annotations, userRole) {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#6A9955;">// \u62D2\u7EDD\u8BBF\u95EE</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_2-\u81EA\u5B9A\u4E49protoc\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_2-\u81EA\u5B9A\u4E49protoc\u547D\u4EE4" aria-hidden="true">#</a> 2. \u81EA\u5B9A\u4E49protoc\u547D\u4EE4</h3><p>\u5BF9\u4E8E\u590D\u6742\u7684gRPC\u670D\u52A1\uFF0C\u53EF\u4EE5\u81EA\u5B9A\u4E49protoc\u547D\u4EE4\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">go-doudou svc grpc --grpc_gen_cmd </span><span style="color:#CE9178;">&quot;protoc --proto_path=. --go_out=. --go_opt=paths=source_relative --go-grpc_out=. --go-grpc_opt=paths=source_relative --validate_out=lang=go,paths=source_relative:. transport/grpc/myservice.proto&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="_3-\u914D\u7F6E\u73AF\u5883\u53D8\u91CF\u5F71\u54CD\u670D\u52A1\u884C\u4E3A" tabindex="-1"><a class="header-anchor" href="#_3-\u914D\u7F6E\u73AF\u5883\u53D8\u91CF\u5F71\u54CD\u670D\u52A1\u884C\u4E3A" aria-hidden="true">#</a> 3. \u914D\u7F6E\u73AF\u5883\u53D8\u91CF\u5F71\u54CD\u670D\u52A1\u884C\u4E3A</h3><p>go-doudou\u652F\u6301\u591A\u79CD\u73AF\u5883\u53D8\u91CF\u6765\u914D\u7F6E\u670D\u52A1\u884C\u4E3A\uFF1A</p><ul><li><code>GDD_SERVICE_NAME</code>: \u670D\u52A1\u540D\u79F0</li><li><code>GDD_SERVICE_GROUP</code>: \u670D\u52A1\u7EC4\u540D</li><li><code>GDD_SERVICE_VERSION</code>: \u670D\u52A1\u7248\u672C</li><li><code>GDD_WEIGHT</code>: \u670D\u52A1\u5B9E\u4F8B\u6743\u91CD</li><li><code>GDD_REGISTER_HOST</code>: \u670D\u52A1\u6CE8\u518C\u4E3B\u673A</li><li><code>GDD_HTTP_PORT</code>: HTTP\u670D\u52A1\u7AEF\u53E3</li><li><code>GDD_GRPC_PORT</code>: gRPC\u670D\u52A1\u7AEF\u53E3</li><li><code>GDD_LOG_LEVEL</code>: \u65E5\u5FD7\u7EA7\u522B\uFF0C\u53EF\u9009\u503C\uFF1A&quot;debug&quot;\u3001&quot;info&quot;\u3001&quot;warn&quot;\u3001&quot;error&quot;</li><li><code>GDD_PROMETHEUS</code>: \u662F\u5426\u542F\u7528Prometheus\u6307\u6807\u6536\u96C6</li></ul><p>\u793A\u4F8B\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">export</span><span style="color:#D4D4D4;"> GDD_SERVICE_NAME=myservice</span></span>
<span class="line"><span style="color:#569CD6;">export</span><span style="color:#D4D4D4;"> GDD_HTTP_PORT=8080</span></span>
<span class="line"><span style="color:#569CD6;">export</span><span style="color:#D4D4D4;"> GDD_LOG_LEVEL=debug</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc run</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_4-\u96C6\u6210\u6D4B\u8BD5\u6280\u5DE7" tabindex="-1"><a class="header-anchor" href="#_4-\u96C6\u6210\u6D4B\u8BD5\u6280\u5DE7" aria-hidden="true">#</a> 4. \u96C6\u6210\u6D4B\u8BD5\u6280\u5DE7</h3><p>\u5229\u7528<code>svc http test</code>\u547D\u4EE4\u751F\u6210\u7684\u6D4B\u8BD5\u4EE3\u7801\uFF0C\u53EF\u4EE5\u8F7B\u677E\u5B9E\u73B0\u96C6\u6210\u6D4B\u8BD5\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># \u6B65\u9AA41: \u4ECEPostman Collection\u751F\u6210\u6D4B\u8BD5\u4EE3\u7801</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc http </span><span style="color:#DCDCAA;">test</span><span style="color:#D4D4D4;"> --collection ./collection.json --dotenv ./.env.test</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># \u6B65\u9AA42: \u8FD0\u884C\u6D4B\u8BD5</span></span>
<span class="line"><span style="color:#D4D4D4;">go </span><span style="color:#DCDCAA;">test</span><span style="color:#D4D4D4;"> -v ./test/...</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_5-\u6A21\u5757\u5316\u5E94\u7528\u5F00\u53D1\u6280\u5DE7" tabindex="-1"><a class="header-anchor" href="#_5-\u6A21\u5757\u5316\u5E94\u7528\u5F00\u53D1\u6280\u5DE7" aria-hidden="true">#</a> 5. \u6A21\u5757\u5316\u5E94\u7528\u5F00\u53D1\u6280\u5DE7</h3><p>\u5BF9\u4E8E\u5927\u578B\u9879\u76EE\uFF0C\u4F7F\u7528 <code>work</code> \u547D\u4EE4\u548C <code>--module</code> \u6807\u5FD7\u53EF\u4EE5\u8F7B\u677E\u7BA1\u7406\u6A21\u5757\u5316\u5E94\u7528\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># \u521D\u59CB\u5316\u5DE5\u4F5C\u533A</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou work init my-workspace</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> my-workspace</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># \u6DFB\u52A0\u591A\u4E2A\u6A21\u5757 - go-doudou\u4F1A\u81EA\u52A8\u8C03\u7528go work use</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc init api-gateway -m my-workspace/api-gateway --module</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc init user-service -m my-workspace/user-service --module</span></span>
<span class="line"><span style="color:#D4D4D4;">go-doudou svc init product-service -m my-workspace/product-service --module</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># \u542F\u52A8\u5E94\u7528\uFF08\u4E3B\u6A21\u5757\u81EA\u52A8\u5F15\u5165\u5E76\u521D\u59CB\u5316\u6240\u6709\u7EC4\u4EF6\uFF09</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> main</span></span>
<span class="line"><span style="color:#D4D4D4;">go run cmd/main.go</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>\u6A21\u5757\u5316\u5E94\u7528\u7684\u4F18\u52BF\uFF1A</p><ul><li>\u4EE3\u7801\u7EC4\u7EC7\u66F4\u6E05\u6670\uFF0C\u6BCF\u4E2A\u7EC4\u4EF6\u72EC\u7ACB\u7EF4\u62A4</li><li>\u53EF\u4EE5\u72EC\u7ACB\u5F00\u53D1\u548C\u6D4B\u8BD5\u6BCF\u4E2A\u7EC4\u4EF6</li><li>\u5171\u4EAB\u4F9D\u8D56\u901A\u8FC7go.work\u89E3\u51B3\uFF0C\u907F\u514D\u4F9D\u8D56\u51B2\u7A81</li><li>\u4E3B\u5E94\u7528\u81EA\u52A8\u96C6\u6210\u6240\u6709\u7EC4\u4EF6\uFF0C\u65E0\u9700\u624B\u52A8\u7F16\u5199\u96C6\u6210\u4EE3\u7801</li><li>\u9002\u5408\u5927\u578B\u5FAE\u670D\u52A1\u5E94\u7528\u7684\u5F00\u53D1\u548C\u7BA1\u7406</li></ul><h2 id="\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u603B\u7ED3" aria-hidden="true">#</a> \u603B\u7ED3</h2><p>go-doudou\u547D\u4EE4\u884C\u5DE5\u5177\u63D0\u4F9B\u4E86\u4E30\u5BCC\u7684\u529F\u80FD\uFF0C\u5E2E\u52A9\u5F00\u53D1\u8005\u5FEB\u901F\u6784\u5EFA\u3001\u90E8\u7F72\u548C\u7BA1\u7406\u5FAE\u670D\u52A1\u3002\u901A\u8FC7\u672C\u6587\u4ECB\u7ECD\u7684\u5404\u79CD\u547D\u4EE4\u548C\u5B50\u547D\u4EE4\uFF0C\u4F60\u53EF\u4EE5\u8F7B\u677E\u5B8C\u6210\u4ECE\u670D\u52A1\u521D\u59CB\u5316\u3001\u4EE3\u7801\u751F\u6210\u5230\u90E8\u7F72\u7684\u6574\u4E2A\u6D41\u7A0B\u3002</p><p>go-doudou\u7684\u6700\u5927\u7279\u70B9\u662F\u7B80\u5316\u4E86\u5FAE\u670D\u52A1\u5F00\u53D1\u6D41\u7A0B\uFF0C\u65E0\u9700\u7F16\u5199\u5927\u91CF\u6837\u677F\u4EE3\u7801\uFF0C\u53EA\u9700\u4E13\u6CE8\u4E8E\u4E1A\u52A1\u903B\u8F91\u7684\u5B9E\u73B0\u3002\u5B83\u652F\u6301RESTful API\u548CgRPC\u670D\u52A1\u7684\u751F\u6210\uFF0C\u4EE5\u53CA\u4E0E\u6570\u636E\u5E93\u7684\u96C6\u6210\uFF0C\u662F\u6784\u5EFA\u73B0\u4EE3Go\u5FAE\u670D\u52A1\u7684\u7406\u60F3\u9009\u62E9\u3002</p><p>\u6B64\u5916\uFF0Cgo-doudou\u8FD8\u63D0\u4F9B\u4E86\u5F3A\u5927\u7684\u6A21\u5757\u5316\u5E94\u7528\u5F00\u53D1\u652F\u6301\uFF0C\u901A\u8FC7 <code>work</code> \u547D\u4EE4\u548C <code>--module</code> \u6807\u5FD7\u53EF\u4EE5\u8F7B\u677E\u7BA1\u7406\u591A\u6A21\u5757\u9879\u76EE\u3002go-doudou\u4F1A\u81EA\u52A8\u6267\u884C<code>go work use</code>\u5C06\u7EC4\u4EF6\u6DFB\u52A0\u5230\u5DE5\u4F5C\u533A\uFF0C\u5E76\u5728\u4E3B\u5E94\u7528\u4E2D\u81EA\u52A8\u5BFC\u5165\u548C\u521D\u59CB\u5316\u6240\u6709\u7EC4\u4EF6\uFF0C\u5927\u5927\u7B80\u5316\u4E86\u6A21\u5757\u5316\u5E94\u7528\u7684\u5F00\u53D1\u548C\u7EF4\u62A4\u5DE5\u4F5C\u3002</p><div class="custom-container warning"><p class="custom-container-title">\u91CD\u8981\u63D0\u793A</p><p>\u8BF7\u6CE8\u610F\uFF0C<code>ddl</code> \u547D\u4EE4\u5DF2\u88AB\u5E9F\u5F03\uFF0C\u4E0D\u518D\u63A8\u8350\u4F7F\u7528\u3002\u5982\u9700\u4ECE\u6570\u636E\u5E93\u751F\u6210\u4EE3\u7801\u6216\u5C06Go\u7ED3\u6784\u4F53\u540C\u6B65\u5230\u6570\u636E\u5E93\uFF0C\u8BF7\u4F7F\u7528 <code>svc crud</code> \u547D\u4EE4\u66FF\u4EE3\u3002</p></div>`,89),qs=n("\u5E0C\u671B\u672C\u6587\u5BF9\u4F60\u7406\u89E3\u548C\u4F7F\u7528go-doudou CLI\u5DE5\u5177\u6709\u6240\u5E2E\u52A9\u3002\u66F4\u591A\u8BE6\u60C5\uFF0C\u8BF7\u53C2\u8003"),As={href:"https://go-doudou.github.io/",target:"_blank",rel:"noopener noreferrer"},Ss=n("\u5B98\u65B9\u6587\u6863"),Ps=n("\u548C\u793A\u4F8B\u4EE3\u7801\u5E93\u3002");function Rs(Ts,Gs){const e=c("RouterLink"),o=c("ExternalLinkIcon");return r(),i(d,null,[h,s("nav",b,[s("ul",null,[s("li",null,[a(e,{to:"#\u5B89\u88C5\u4E0E\u5347\u7EA7"},{default:l(()=>[m]),_:1}),s("ul",null,[s("li",null,[a(e,{to:"#\u5B89\u88C5go-doudou"},{default:l(()=>[D]),_:1})]),s("li",null,[a(e,{to:"#\u5347\u7EA7go-doudou"},{default:l(()=>[g]),_:1})])])]),s("li",null,[a(e,{to:"#\u547D\u4EE4\u6982\u89C8"},{default:l(()=>[v]),_:1})]),s("li",null,[a(e,{to:"#completion\u547D\u4EE4\u8BE6\u89E3"},{default:l(()=>[y]),_:1}),s("ul",null,[s("li",null,[a(e,{to:"#\u57FA\u672C\u7528\u6CD5"},{default:l(()=>[_]),_:1})]),s("li",null,[a(e,{to:"#\u5B50\u547D\u4EE4"},{default:l(()=>[E]),_:1})]),s("li",null,[a(e,{to:"#\u793A\u4F8B"},{default:l(()=>[f]),_:1})])])]),s("li",null,[a(e,{to:"#svc\u547D\u4EE4\u8BE6\u89E3"},{default:l(()=>[k]),_:1}),s("ul",null,[s("li",null,[a(e,{to:"#svc-init"},{default:l(()=>[x]),_:1})]),s("li",null,[a(e,{to:"#svc-http"},{default:l(()=>[C]),_:1})]),s("li",null,[a(e,{to:"#svc-http-client"},{default:l(()=>[w]),_:1})]),s("li",null,[a(e,{to:"#svc-http-test"},{default:l(()=>[q]),_:1})]),s("li",null,[a(e,{to:"#svc-grpc"},{default:l(()=>[A]),_:1})]),s("li",null,[a(e,{to:"#svc-crud"},{default:l(()=>[S]),_:1})]),s("li",null,[a(e,{to:"#svc-run"},{default:l(()=>[P]),_:1})]),s("li",null,[a(e,{to:"#svc-push"},{default:l(()=>[R]),_:1})]),s("li",null,[a(e,{to:"#svc-deploy"},{default:l(()=>[T]),_:1})]),s("li",null,[a(e,{to:"#svc-shutdown"},{default:l(()=>[G]),_:1})])])]),s("li",null,[a(e,{to:"#name\u547D\u4EE4\u8BE6\u89E3"},{default:l(()=>[O]),_:1}),s("ul",null,[s("li",null,[a(e,{to:"#\u57FA\u672C\u7528\u6CD5-11"},{default:l(()=>[I]),_:1})]),s("li",null,[a(e,{to:"#\u5E38\u7528\u53C2\u6570-10"},{default:l(()=>[L]),_:1})]),s("li",null,[a(e,{to:"#\u793A\u4F8B-11"},{default:l(()=>[N]),_:1})])])]),s("li",null,[a(e,{to:"#enum\u547D\u4EE4\u8BE6\u89E3"},{default:l(()=>[U]),_:1}),s("ul",null,[s("li",null,[a(e,{to:"#\u57FA\u672C\u7528\u6CD5-12"},{default:l(()=>[H]),_:1})]),s("li",null,[a(e,{to:"#\u5E38\u7528\u53C2\u6570-11"},{default:l(()=>[J]),_:1})]),s("li",null,[a(e,{to:"#\u793A\u4F8B-12"},{default:l(()=>[j]),_:1})])])]),s("li",null,[a(e,{to:"#version\u547D\u4EE4\u8BE6\u89E3"},{default:l(()=>[B]),_:1}),s("ul",null,[s("li",null,[a(e,{to:"#\u57FA\u672C\u7528\u6CD5-13"},{default:l(()=>[M]),_:1})]),s("li",null,[a(e,{to:"#\u793A\u4F8B-13"},{default:l(()=>[V]),_:1})])])]),s("li",null,[a(e,{to:"#work\u547D\u4EE4\u8BE6\u89E3"},{default:l(()=>[F]),_:1}),s("ul",null,[s("li",null,[a(e,{to:"#\u57FA\u672C\u7528\u6CD5-14"},{default:l(()=>[z]),_:1})]),s("li",null,[a(e,{to:"#\u5B50\u547D\u4EE4-1"},{default:l(()=>[K]),_:1})]),s("li",null,[a(e,{to:"#work-init"},{default:l(()=>[Y]),_:1})])])]),s("li",null,[a(e,{to:"#\u5B9E\u9645\u5E94\u7528\u793A\u4F8B"},{default:l(()=>[Q]),_:1}),s("ul",null,[s("li",null,[a(e,{to:"#_1-\u5FAE\u670D\u52A1\u521D\u59CB\u5316\u4E0E\u5F00\u53D1\u6D41\u7A0B"},{default:l(()=>[W]),_:1})]),s("li",null,[a(e,{to:"#_2-\u57FA\u4E8E\u6570\u636E\u5E93\u8868\u7684\u5FAE\u670D\u52A1\u751F\u6210"},{default:l(()=>[X]),_:1})]),s("li",null,[a(e,{to:"#_3-\u4F7F\u7528crud\u547D\u4EE4\u4ECE\u73B0\u6709\u6570\u636E\u5E93\u751F\u6210crud\u670D\u52A1"},{default:l(()=>[Z]),_:1})]),s("li",null,[a(e,{to:"#_4-\u5DE5\u4F5C\u533A\u4E2D\u7684\u6A21\u5757\u5316\u5E94\u7528\u5F00\u53D1"},{default:l(()=>[$]),_:1})]),s("li",null,[a(e,{to:"#_5-\u5B9E\u73B0\u679A\u4E3E\u7C7B\u578B"},{default:l(()=>[ss]),_:1})]),s("li",null,[a(e,{to:"#_6-\u751F\u6210\u81EA\u52A8\u5B8C\u6210\u811A\u672C"},{default:l(()=>[ns]),_:1})])])]),s("li",null,[a(e,{to:"#\u9AD8\u7EA7\u7528\u6CD5\u4E0E\u6280\u5DE7"},{default:l(()=>[as]),_:1}),s("ul",null,[s("li",null,[a(e,{to:"#_1-\u4F7F\u7528\u6CE8\u89E3\u63A7\u5236\u63A5\u53E3\u6743\u9650"},{default:l(()=>[es]),_:1})]),s("li",null,[a(e,{to:"#_2-\u81EA\u5B9A\u4E49protoc\u547D\u4EE4"},{default:l(()=>[ls]),_:1})]),s("li",null,[a(e,{to:"#_3-\u914D\u7F6E\u73AF\u5883\u53D8\u91CF\u5F71\u54CD\u670D\u52A1\u884C\u4E3A"},{default:l(()=>[os]),_:1})]),s("li",null,[a(e,{to:"#_4-\u96C6\u6210\u6D4B\u8BD5\u6280\u5DE7"},{default:l(()=>[cs]),_:1})]),s("li",null,[a(e,{to:"#_5-\u6A21\u5757\u5316\u5E94\u7528\u5F00\u53D1\u6280\u5DE7"},{default:l(()=>[ps]),_:1})])])]),s("li",null,[a(e,{to:"#\u603B\u7ED3"},{default:l(()=>[rs]),_:1})])])]),s("p",null,[is,ds,s("a",ts,[us,a(o)]),hs,s("a",bs,[ms,a(o)])]),Ds,s("ul",null,[gs,vs,ys,_s,s("li",null,[Es,fs,s("a",ks,[xs,a(o)]),Cs])]),ws,s("p",null,[qs,s("a",As,[Ss,a(o)]),Ps])],64)}var Ls=t(u,[["render",Rs]]);export{Ls as default};
